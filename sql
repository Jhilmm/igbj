-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Host: db
-- Generation Time: Jun 29, 2023 at 07:15 PM
-- Server version: 8.0.15
-- PHP Version: 8.0.27

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `mantenimientos`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_add` (IN `_NITPROVEEDOR` VARCHAR(30), IN `_CODMODELO` INT, IN `_DESCRIPCION` VARCHAR(150), IN `_ESTADOACTIVO` TINYINT, IN `_CODPROCEDENCIA` INT, IN `_CODACTIVOFIJO` VARCHAR(15), IN `_SERIE` LONGTEXT, IN `_ANIOFABRICACION` INT, IN `_FECHAINGRESO` DATE, IN `_FOTOGRAFIA` LONGBLOB, IN `_USUARIOREGISTRO` INT)   BEGIN
INSERT INTO activo(NITPROVEEDOR,CODMODELO,DESCRIPCION,ESTADOACTIVO,CODPROCEDENCIA,CODACTIVOFIJO,SERIE,ANIOFABRICACION,FECHAINGRESO,FOTOGRAFIA,USUARIOREGISTRO) VALUES (_NITPROVEEDOR,_CODMODELO,_DESCRIPCION,'1',_CODPROCEDENCIA,_CODACTIVOFIJO,_SERIE,_ANIOFABRICACION,_FECHAINGRESO,_FOTOGRAFIA,_USUARIOREGISTRO);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_disable` (IN `_CODACTIVO` INT)   BEGIN
UPDATE activo SET ESTADOACTIVO='0' WHERE CODACTIVO = _CODACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_enable` (IN `_CODACTIVO` INT)   BEGIN
UPDATE activo SET ESTADOACTIVO='1' WHERE CODACTIVO = _CODACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_Search` (IN `_DESCRIPCION` VARCHAR(150))   BEGIN
SELECT procedencia.CODPROCEDENCIA, procedencia.PROCEDENCIA, cuatro.CODACTIVO, cuatro.FOTOGRAFIA, cuatro.ANIOFABRICACION, cuatro.ESTADOACTIVO, cuatro.DESCRIPCION, cuatro.CODMODELO, cuatro.MODELO, cuatro.CODMARCA, cuatro.MARCA, cuatro.CODCLASE, cuatro.CLASE
FROM(SELECT activo.CODPROCEDENCIA,activo.CODACTIVO, activo.FOTOGRAFIA, activo.ANIOFABRICACION, activo.DESCRIPCION, activo.ESTADOACTIVO, tres.CODMODELO, tres.MODELO, tres.CODMARCA, tres.MARCA, tres.CODCLASE, tres.CLASE
    FROM (SELECT modelo.CODMODELO, modelo.MODELO, dos.CODMARCA, dos.MARCA, dos.CODCLASE, dos.CLASE
        FROM (SELECT marca.CODMARCA, marca.MARCA, uno.CODCLASE, uno.CLASE
            from (SELECT CODCLASE,CLASE
                FROM claseactivo)uno, marca
            WHERE marca.CODCLASE=uno.CODCLASE)dos, modelo
        WHERE modelo.CODMARCA=dos.CODMARCA)tres, activo
    WHERE activo.CODMODELO=tres.CODMODELO AND activo.DESCRIPCION LIKE concat("%", _DESCRIPCION,"%"))cuatro, procedencia
WHERE procedencia.CODPROCEDENCIA=cuatro.CODPROCEDENCIA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_Search_by_id` (IN `_CODACTIVO` INT(11))   BEGIN
    SELECT procedencia.CODPROCEDENCIA, procedencia.PROCEDENCIA, cinco.FOTOGRAFIA, cinco.USUARIOREGISTRO, cinco.ESTADOACTIVO, cinco.FECHAINGRESO, cinco.FECHAMODIFICACION, cinco.ANIOFABRICACION, cinco.SERIE, cinco.DESCRIPCION, cinco.CODACTIVOFIJO, cinco.NIT, cinco.NOMPROVEEDOR, cinco.CODACTIVO, cinco.CODMODELO, cinco.MODELO, cinco.CODMARCA, cinco.MARCA, cinco.CODCLASE, cinco.CLASE
FROM(SELECT proveedor.NIT, proveedor.NOMPROVEEDOR, cuatro.CODACTIVO, cuatro.FOTOGRAFIA, cuatro.ESTADOACTIVO, cuatro.USUARIOREGISTRO, cuatro.FECHAINGRESO, cuatro.ANIOFABRICACION, cuatro.FECHAMODIFICACION, cuatro.SERIE, cuatro.DESCRIPCION, cuatro.CODACTIVOFIJO, cuatro.CODPROCEDENCIA, cuatro.CODMODELO, cuatro.MODELO, cuatro.CODMARCA, cuatro.MARCA, cuatro.CODCLASE, cuatro.CLASE
    FROM(SELECT activo.CODACTIVO, activo.NITPROVEEDOR, activo.CODPROCEDENCIA, activo.ESTADOACTIVO, activo.USUARIOREGISTRO, activo.FECHAMODIFICACION, activo.FOTOGRAFIA, activo.FECHAINGRESO, activo.ANIOFABRICACION, activo.SERIE, activo.DESCRIPCION, activo.CODACTIVOFIJO, tres.CODMODELO, tres.MODELO, tres.CODMARCA, tres.MARCA, tres.CODCLASE, tres.CLASE
        FROM(SELECT modelo.CODMODELO, modelo.MODELO, dos.CODMARCA, dos.MARCA, dos.CODCLASE, dos.CLASE
            FROM(SELECT marca.CODMARCA, marca.MARCA, uno.CODCLASE, uno.CLASE
                FROM(SELECT claseactivo.CODCLASE, claseactivo.CLASE
                    FROM claseactivo)uno, marca
                WHERE marca.CODCLASE=uno.CODCLASE)dos, modelo
            WHERE modelo.CODMARCA=dos.CODMARCA)tres, activo      
        WHERE activo.CODMODELO=tres.CODMODELO && activo.CODACTIVO=_CODACTIVO)cuatro, proveedor
    WHERE proveedor.NIT=cuatro.NITPROVEEDOR)cinco, procedencia
WHERE procedencia.CODPROCEDENCIA=cinco.CODPROCEDENCIA;

END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_update` (IN `_CODACTIVO` INT(11), IN `_NITPROVEEDOR` VARCHAR(30), IN `_CODMODELO` INT(11), IN `_DESCRIPCION` VARCHAR(150), IN `_CODPROCEDENCIA` INT(11), IN `_CODACTIVOFIJO` VARCHAR(15), IN `_SERIE` LONGTEXT, IN `_ANIOFABRICACION` INT(11), IN `_FECHAINGRESO` DATE, IN `_FOTOGRAFIA` LONGBLOB, IN `_FECHAMODIFICACION` DATE, IN `_USUARIOREGISTRO` INT(11), IN `_ESTADOACTIVO` TINYINT)   BEGIN
	UPDATE activo SET
    CODACTIVO=_CODACTIVO,
    NITPROVEEDOR=_NITPROVEEDOR,
    CODMODELO=_CODMODELO,
    DESCRIPCION=_DESCRIPCION,
    CODPROCEDENCIA=_CODPROCEDENCIA,
    CODACTIVOFIJO=_CODACTIVOFIJO,
    SERIE=_SERIE,
    ANIOFABRICACION=_ANIOFABRICACION,
    FECHAINGRESO=_FECHAINGRESO,
    FOTOGRAFIA=_FOTOGRAFIA,
    FECHAMODIFICACION=_FECHAMODIFICACION,
    USUARIOREGISTRO=_USUARIOREGISTRO,
    ESTADOACTIVO=_ESTADOACTIVO
    WHERE CODACTIVO=_CODACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Activo_verifyCodasigactivo` (IN `_CODACTIVO` INT(11))   BEGIN 
SELECT tres.CODASIGACTIVO
FROM(SELECT asigcargopersonal.CODASIGCARGOPER, asigcargopersonal.CODCARGODEP, dos.CODASIGACTIVO
FROM(SELECT CODASIGACTIVO, CODASIGCARGOPER
FROM(SELECT CODACTIVO
FROM activo
WHERE CODACTIVO=_CODACTIVO)uno, asignacionactivo
WHERE asignacionactivo.CODACTIVO=uno.CODACTIVO)dos, asigcargopersonal
WHERE asigcargopersonal.CODASIGCARGOPER=dos.CODASIGCARGOPER)tres, cargo
WHERE cargo.CODCARGO=tres.CODCARGODEP;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_add` (IN `_CODCARGODEP` INT(11), IN `_CODPERSONAL` INT(11), IN `_FECHAASIGNACION` DATE, IN `_MEMODESIGNACION` VARCHAR(30))   begin
	INSERT INTO asigcargopersonal(CODCARGODEP, CODPERSONAL,FECHAASIGNACION, MEMODESIGNACION, ESTADO)VALUES(_CODCARGODEP, _CODPERSONAL, _FECHAASIGNACION, _MEMODESIGNACION, 1);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_delete` (IN `_CODASIGCARGOPER` INT(11))   BEGIN
	DELETE FROM asigcargopersonal WHERE CODASIGCARGOPER=_CODASIGCARGOPER;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_disable` (IN `_CODASIGCARGOPER` INT(11))   BEGIN
	UPDATE asigcargopersonal SET ESTADO=0 WHERE CODASIGCARGOPER=_CODASIGCARGOPER;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_enable` (IN `_CODASIGCARGOPER` INT(11))   BEGIN
	UPDATE asigcargopersonal SET ESTADO=1 WHERE CODASIGCARGOPER=_CODASIGCARGOPER;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_Item_search` (IN `DATA` VARCHAR(50))   BEGIN
SELECT dos.CODITEM,persona.NOMBRES,persona.APPATERNO,persona.APMATERNO
FROM(SELECT personal.CODITEM,personal.CI
    FROM(SELECT asigcargopersonal.CODASIGCARGOPER,asigcargopersonal.CODPERSONAL
        FROM asigcargopersonal)uno,personal
    WHERE personal.CODPERSONAL=uno.CODPERSONAL)dos,persona
WHERE persona.CI=dos.CI AND (persona.NOMBRES LIKE concat('%',DATA,'%') OR persona.APPATERNO LIKE concat('%',DATA,'%') OR persona.APMATERNO LIKE concat('%',DATA,'%'));
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_seach` (IN `_CRITERIAL` VARCHAR(15))   BEGIN
	SELECT CODASIGCARGOPER, CODCARGODEP, CODPERSONAL, FECHAASIGNACION, FECHACONCLUCION, ESTADO, MEMODESIGNACION
    FROM asigcargopersonal
    WHERE FECHAASIGNACION LIKE CONCAT('%', _CRITERIAL, '%') OR FECHACONCLUCION LIKE CONCAT('%', _CRITERIAL, '%') OR ESTADO LIKE CONCAT('%', _CRITERIAL, '%') OR MEMODESIGNACION LIKE CONCAT('%', _CRITERIAL, '%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsigCargoPersonal_update` (IN `_CODASIGCARGOPER` INT(11), IN `_CODCARGODEP` INT(11), IN `_FECHAASIGNACION` DATE, IN `_MEMODESIGNACION` VARCHAR(30))   BEGIN

UPDATE asigcargopersonal
SET CODCARGODEP = _CODCARGODEP,
    FECHAASIGNACION = _FECHAASIGNACION,
    MEMODESIGNACION = _MEMODESIGNACION
WHERE CODASIGCARGOPER = _CODASIGCARGOPER;

END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Asigcargopersonal_ViewActivos` (IN `_CODASIGCARGOPER` INT(11))   BEGIN
SELECT activo.CODACTIVO, activo.DESCRIPCION
FROM(SELECT asignacionactivo.CODASIGCARGOPER, asignacionactivo.CODACTIVO
FROM(SELECT CODASIGCARGOPER
FROM asigcargopersonal
WHERE asigcargopersonal.CODASIGCARGOPER=_CODASIGCARGOPER)uno, asignacionactivo
WHERE asignacionactivo.CODASIGCARGOPER=uno.CODASIGCARGOPER)dos, activo
WHERE activo.CODACTIVO=dos.CODACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsignacionActivo_add` (IN `_CODASIGCARGOPER` INT(11), IN `_CODACTIVO` INT(11), IN `_OBSERVACION` VARCHAR(100), IN `_ESTADO` TINYINT)   BEGIN
IF _OBSERVACION IS null THEN
	INSERT INTO asignacionactivo(CODASIGCARGOPER,CODACTIVO,ESTADO)VALUES(_CODASIGCARGOPER,_CODACTIVO,_ESTADO);
ELSE
	INSERT INTO asignacionactivo(CODASIGCARGOPER,CODACTIVO,OBSERVACION,ESTADO)VALUES(_CODASIGCARGOPER,_CODACTIVO,_OBSERVACION,_ESTADO);
END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsignacionActivo_delete` (IN `_CODASIGACTIVO` INT(11))   BEGIN
	DELETE FROM asignacionactivo WHERE CODASIGACTIVO=_CODASIGACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsignacionActivo_disable` (IN `_CODASIGACTIVO` INT(11))   BEGIN
	UPDATE asignacionactivo SET ESTADO=0 WHERE CODASIGACTIVO=_CODASIGACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsignacionActivo_enable` (IN `_CODASIGACTIVO` INT(11))   BEGIN
	UPDATE asignacionactivo SET ESTADO=1 WHERE CODASIGACTIVO=_CODASIGACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_AsignacionActivo_search` (IN `_CODASIGCARGOPERSONAL` INT(11), IN `_DESCRIPCION` VARCHAR(50))   BEGIN
SELECT a.CODACTIVO, a.DESCRIPCION, ca.CLASE, ma.MARCA, m.MODELO, a.SERIE
FROM activo a
JOIN asignacionactivo aa ON a.CODACTIVO = aa.CODACTIVO
JOIN modelo m ON a.CODMODELO = m.CODMODELO
JOIN marca ma ON m.CODMARCA = ma.CODMARCA
JOIN claseactivo ca ON ma.CODCLASE = ca.CODCLASE
WHERE aa.CODASIGCARGOPER = _CODASIGCARGOPERSONAL
AND a.DESCRIPCION LIKE concat('%',_DESCRIPCION,'%')
ORDER BY ca.CLASE;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Cargo_add` (IN `_CODDEPARTAMENTO` INT(11), IN `_CARGO` VARCHAR(50), IN `_ESTADO` TINYINT)   BEGIN
    	INSERT INTO cargo(CODDEPARTAMENTO, CARGO, ESTADO)VALUES(_CODDEPARTAMENTO, _CARGO, _ESTADO);
    END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Cargo_delete` (IN `_CARGO` VARCHAR(50))   BEGIN
    DELETE FROM cargo WHERE CARGO=_CARGO;
    END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Cargo_disable` (IN `_CARGO` VARCHAR(50))   BEGIN
	UPDATE cargo SET ESTADO=0 WHERE CARGO=_CARGO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Cargo_enable` (IN `_CARGO` VARCHAR(50))   BEGIN
	UPDATE cargo SET ESTADO=1 WHERE CARGO=_CARGO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Cargo_search` (IN `_CRITERIAL` VARCHAR(25))   BEGIN
	SELECT CODCARGO, CODDEPARTAMENTO, CARGO, ESTADO
    FROM cargo
    WHERE CARGO LIKE CONCAT('%',_CRITERIAL,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Cargo_update` (IN `_CODCARGO` INT(11), IN `_CARGO` VARCHAR(50))   BEGIN
	UPDATE cargo SET CARGO=_CARGO WHERE CODCARGO=_CODCARGO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Catalogo_add` (IN `_CODCLASE` INT(11), IN `_NOMCATALOGO` VARCHAR(100), IN `_ESTADO` TINYINT)   BEGIN
	SET @validate = (SELECT COUNT(*) FROM catalogo WHERE NOMCATALOGO=_NOMCATALOGO);
    	IF @validate > 0 THEN
        	SIGNAL SQLSTATE '45000'
            SET MESSAGE_TEXT = 'Catalogo name already exists';
        ELSE
INSERT INTO catalogo(CODCLASE,NOMCATALOGO, ESTADO)VALUES(_CODCLASE,_NOMCATALOGO,_ESTADO);
        END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Catalogo_disable` (IN `_CODCATALOGO` INT(11))   BEGIN
UPDATE catalogo SET ESTADO=0 WHERE CODCATALOGO=_CODCATALOGO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Catalogo_enable` (IN `_CODCATALOGO` INT(11))   BEGIN
UPDATE catalogo SET ESTADO=1 WHERE CODCATALOGO=_CODCATALOGO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Catalogo_search` (IN `_NOMCATALOGO` VARCHAR(100))   BEGIN
SELECT claseactivo.CODCLASE, claseactivo.CLASE, uno.CODCATALOGO, uno.NOMCATALOGO, uno.ESTADO
FROM(SELECT catalogo.CODCATALOGO, catalogo.CODCLASE, catalogo.NOMCATALOGO, catalogo.ESTADO
FROM catalogo
WHERE NOMCATALOGO LIKE concat('%', _NOMCATALOGO, '%'))uno, claseactivo
WHERE claseactivo.CODCLASE=uno.CODCLASE;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Catalogo_update` (IN `_CODCATALOGO` INT(11), IN `_CODCLASE` INT(11), IN `_NOMCATALOGO` VARCHAR(100))   BEGIN
UPDATE catalogo SET CODCLASE=_CODCLASE, NOMCATALOGO=_NOMCATALOGO WHERE CODCATALOGO=_CODCATALOGO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Centromantenimiento_add` (IN `_CENTROMANTENIMIENTO` VARCHAR(50), IN `_ESTADO` TINYINT, IN `_DESCRIPCION` VARCHAR(150))   BEGIN
	SET @validate=(SELECT COUNT(*) FROM centromantenimiento WHERE CENTROMANTENIMIENTO=_CENTROMANTENIMIENTO);
    IF @validate>0 THEN
    	SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT='Centromantenimiento name already exists';
    ELSE
    	IF _DESCRIPCION IS null THEN
        	INSERT INTO centromantenimiento(CENTROMANTENIMIENTO,ESTADO)VALUES(_CENTROMANTENIMIENTO,_ESTADO);
        ELSE
        	INSERT INTO centromantenimiento(CENTROMANTENIMIENTO,ESTADO,DESCRIPCION)VALUES(_CENTROMANTENIMIENTO,_ESTADO,_DESCRIPCION);
        END IF;
    END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Centromantenimiento_disable` (IN `_CODCENTRO` INT(11))   BEGIN
	UPDATE centromantenimiento SET ESTADO=0 WHERE CODCENTRO=_CODCENTRO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Centromantenimiento_enable` (IN `_CODCENTRO` INT(11))   BEGIN
	UPDATE centromantenimiento SET ESTADO=1 WHERE CODCENTRO=_CODCENTRO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Centromantenimiento_search` (IN `_CENTROMANTENIMIENTO` VARCHAR(50))   BEGIN
SELECT CODCENTRO,CENTROMANTENIMIENTO,ESTADO,DESCRIPCION
FROM centromantenimiento
WHERE CENTROMANTENIMIENTO LIKE concat('%', _CENTROMANTENIMIENTO,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Centromantenimiento_update` (IN `_CENTROMANTENIMIENTO` VARCHAR(50), IN `_CODCENTRO` INT(11), IN `_DESCRIPCION` VARCHAR(150))   BEGIN
IF _CENTROMANTENIMIENTO='' THEN
	UPDATE centromantenimiento SET DESCRIPCION=_DESCRIPCION WHERE CODCENTRO=_CODCENTRO;
ELSEIF _DESCRIPCION='' THEN
	UPDATE centromantenimiento SET CENTROMANTENIMIENTO=_CENTROMANTENIMIENTO WHERE CODCENTRO=_CODCENTRO;
ELSE
	UPDATE centromantenimiento SET DESCRIPCION=_DESCRIPCION, CENTROMANTENIMIENTO=_CENTROMANTENIMIENTO WHERE CODCENTRO=_CODCENTRO;
END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Departamentos_add` (IN `_NOMBDEPARTAMENTO` VARCHAR(50), IN `_DESCRIPCION` VARCHAR(150), IN `_ESTADO` TINYINT)   BEGIN
	SET @validate = (SELECT COUNT(*) FROM departamentos WHERE NOMBDEPARTAMENTO=_NOMBDEPARTAMENTO);
    	IF @validate > 0 THEN
        	SIGNAL SQLSTATE '45000'
            SET MESSAGE_TEXT = 'Departament name already exists';
        ELSE
        	IF _DESCRIPCION='' THEN
            	INSERT INTO departamentos(NOMBDEPARTAMENTO,ESTADO)VALUES(_NOMBDEPARTAMENTO,_ESTADO);
            ELSE
        		INSERT INTO departamentos(NOMBDEPARTAMENTO,DESCRIPCION,ESTADO)VALUES(_NOMBDEPARTAMENTO,_DESCRIPCION,_ESTADO);
                END IF;
        END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Departamentos_delete` (IN `_CODDEPARTAMENTO` INT(11))   BEGIN
    DELETE FROM departamentos WHERE CODDEPARTAMENTO=_CODDEPARTAMENTO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Departamentos_disable` (IN `_NOMBDEPARTAMENTO` VARCHAR(50))   BEGIN

    	UPDATE departamentos SET ESTADO=0 WHERE NOMBDEPARTAMENTO=_NOMBDEPARTAMENTO;

END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Departamentos_enable` (IN `_NOMBDEPARTAMENTO` VARCHAR(50))   BEGIN
	UPDATE departamentos SET ESTADO=1 WHERE NOMBDEPARTAMENTO=_NOMBDEPARTAMENTO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Departamentos_search` (IN `_CRITERIAL` VARCHAR(25))   BEGIN
	SELECT CODDEPARTAMENTO, NOMBDEPARTAMENTO, DESCRIPCION, ESTADO
    FROM departamentos
    WHERE NOMBDEPARTAMENTO LIKE CONCAT('%',_CRITERIAL,'%') OR DESCRIPCION LIKE CONCAT('%',_CRITERIAL,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Departamentos_update` (IN `_CODDEPARTAMENTO` INT(11), IN `_NOMBDEPARTAMENTO` VARCHAR(50), IN `_DESCRIPCION` VARCHAR(150))   BEGIN
	IF _NOMBDEPARTAMENTO='' THEN
    	UPDATE departamentos SET DESCRIPCION=_DESCRIPCION WHERE CODDEPARTAMENTO=_CODDEPARTAMENTO;
    ELSEIF _DESCRIPCION='' THEN
    	UPDATE departamentos SET NOMBDEPARTAMENTO=_NOMBDEPARTAMENTO WHERE CODDEPARTAMENTO=_CODDEPARTAMENTO;
    ELSE
    	UPDATE departamentos SET NOMBDEPARTAMENTO=_NOMBDEPARTAMENTO, DESCRIPCION=_DESCRIPCION WHERE CODDEPARTAMENTO=_CODDEPARTAMENTO;
    END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_MarcaClaseactivo_search_id` (IN `_CODCLASE` INT(11))   BEGIN
	SELECT uno.CODCLASE,uno.CLASE,uno.DESCRIPCIONCLASE,uno.ESTADO,uno.PARTIDA, marca.CODMARCA,marca.MARCA,marca.ESTADO
    FROM(SELECT CODCLASE,CLASE, DESCRIPCIONCLASE,ESTADO,PARTIDA
    	FROM claseactivo
    	WHERE ESTADO='1')uno,marca
    WHERE marca.CODCLASE=uno.CODCLASE AND marca.ESTADO='1' AND marca.CODCLASE=_CODCLASE;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_MarcaModelo_search_id` (IN `_CODMARCA` INT(11))   BEGIN
	SELECT uno.CODCLASE,uno.CODMARCA,uno.ESTADO,uno.MARCA,modelo.CODMODELO,modelo.MODELO,modelo.DESCRIPCION,modelo.ESTADOMODELO
     FROM(SELECT CODCLASE,CODMARCA,ESTADO,MARCA
        FROM marca
        WHERE ESTADO='1' AND CODMARCA=_CODMARCA)uno, modelo
     WHERE modelo.CODMARCA=uno.CODMARCA AND ESTADOMODELO='1';
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Ordentrabajo_add` (IN `_CODASIGACTIVO` INT(11), IN `_FECHAORDEN` DATE, IN `_DESCRIPSINTOMAS` VARCHAR(100), IN `_ESTADO` TINYINT)   BEGIN
	IF _CODASIGACTIVO='' THEN
    	INSERT INTO ordentrabajo(FECHAORDEN,DESCRIPSINTOMAS,ESTADO)VALUES(_FECHAORDEN,_DESCRIPSINTOMAS,_ESTADO);
    ELSE
    	INSERT INTO ordentrabajo(CODASIGACTIVO,FECHAORDEN,DESCRIPSINTOMAS,ESTADO)VALUES(_CODASIGACTIVO,_FECHAORDEN,_DESCRIPSINTOMAS,_ESTADO);
    END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Ordentrabajo_disable` (IN `_CODORDENTRABAJO` INT(11))   BEGIN
	UPDATE ordentrabajo SET ESTADO=0 WHERE CODORDENTRABAJO=_CODORDENTRABAJO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Ordentrabajo_enable` (IN `_CODORDENTRABAJO` INT(11))   BEGIN
	UPDATE ordentrabajo SET ESTADO=1 WHERE CODORDENTRABAJO=_CODORDENTRABAJO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Ordentrabajo_print` (IN `_CODORDENTRABAJO` INT(11))   BEGIN
	SELECT siete.CODORDENTRABAJO, siete.FECHAORDEN, siete.CODDEPARTAMENTO, siete.NOMBDEPARTAMENTO, siete.CI, siete.NOMBRES, siete.APPATERNO, siete.APMATERNO, siete.CARGO, activo.CODACTIVO, activo.DESCRIPCION, siete.DESCRIPSINTOMAS
FROM(SELECT persona.CI, persona.NOMBRES, persona.APPATERNO, persona.APMATERNO, seis.CODPERSONAL, seis.CODDEPARTAMENTO, seis.NOMBDEPARTAMENTO, seis.CODCARGO, seis.CODASIGCARGOPER, seis.CODCARGODEP, seis.CODORDENTRABAJO, seis.FECHAORDEN, seis.DESCRIPSINTOMAS, seis.ESTADO, seis.CODACTIVO, seis.CARGO
FROM(SELECT personal.CODPERSONAL, personal.CI, cinco.CODDEPARTAMENTO, cinco.NOMBDEPARTAMENTO, cinco.CODCARGO, cinco.CODASIGCARGOPER,  cinco.CODCARGODEP, cinco.CODORDENTRABAJO, cinco.FECHAORDEN, cinco.DESCRIPSINTOMAS, cinco.ESTADO, cinco.CODACTIVO, cinco.CARGO
FROM(SELECT departamentos.CODDEPARTAMENTO, departamentos.NOMBDEPARTAMENTO, cuatro.CODCARGO, cuatro.CODASIGCARGOPER, cuatro.CODPERSONAL, cuatro.CODCARGODEP, cuatro.CODORDENTRABAJO, cuatro.FECHAORDEN, cuatro.DESCRIPSINTOMAS, cuatro.ESTADO, cuatro.CODACTIVO, cuatro.CARGO
FROM(SELECT cargo.CODCARGO, cargo.CARGO, cargo.CODDEPARTAMENTO, tres.CODASIGCARGOPER, tres.CODPERSONAL, tres.CODCARGODEP, tres.CODORDENTRABAJO, tres.FECHAORDEN, tres.DESCRIPSINTOMAS, tres.ESTADO, tres.CODACTIVO
FROM(SELECT asigcargopersonal.CODASIGCARGOPER, asigcargopersonal.CODPERSONAL, asigcargopersonal.CODCARGODEP, dos.CODORDENTRABAJO, dos.FECHAORDEN, dos.DESCRIPSINTOMAS, dos.ESTADO, dos.CODACTIVO
FROM(SELECT asignacionactivo.CODASIGACTIVO, asignacionactivo.CODASIGCARGOPER, uno.CODORDENTRABAJO, uno.FECHAORDEN, uno.DESCRIPSINTOMAS, uno.ESTADO, asignacionactivo.CODACTIVO
FROM(SELECT ordentrabajo.CODORDENTRABAJO, ordentrabajo.CODASIGACTIVO, ordentrabajo.FECHAORDEN, ordentrabajo.DESCRIPSINTOMAS, ordentrabajo.ESTADO
FROM ordentrabajo
WHERE ordentrabajo.CODORDENTRABAJO=_CODORDENTRABAJO)uno, asignacionactivo
WHERE asignacionactivo.CODASIGACTIVO=uno.CODASIGACTIVO)dos, asigcargopersonal
WHERE asigcargopersonal.CODASIGCARGOPER=dos.CODASIGCARGOPER)tres, cargo
WHERE cargo.CODCARGO=tres.CODCARGODEP)cuatro, departamentos
WHERE departamentos.CODDEPARTAMENTO=cuatro.CODDEPARTAMENTO)cinco, personal
WHERE personal.CODPERSONAL=cinco.CODPERSONAL)seis, persona
WHERE persona.CI=seis.CI)siete, activo
WHERE activo.CODACTIVO=siete.CODACTIVO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Ordentrabajo_searchbydepartamento` (IN `_NOMBDEPARTAMENTO` VARCHAR(50))   BEGIN
SELECT siete.CODORDENTRABAJO, siete.FECHAORDEN, siete.CODDEPARTAMENTO, siete.NOMBDEPARTAMENTO, siete.CI, siete.NOMBRES, siete.APPATERNO, siete.APMATERNO, activo.CODACTIVO, siete.CARGO, activo.DESCRIPCION, siete.DESCRIPSINTOMAS
FROM(SELECT persona.CI, persona.NOMBRES, persona.APPATERNO, persona.APMATERNO, seis.CODPERSONAL, seis.CODDEPARTAMENTO, seis.NOMBDEPARTAMENTO, seis.CODCARGO, seis.CODASIGCARGOPER, seis.CODCARGODEP, seis.CODORDENTRABAJO, seis.FECHAORDEN, seis.DESCRIPSINTOMAS, seis.ESTADO, seis.CODACTIVO, seis.CARGO
FROM(SELECT personal.CODPERSONAL, personal.CI, cinco.CODDEPARTAMENTO, cinco.NOMBDEPARTAMENTO, cinco.CODCARGO, cinco.CODASIGCARGOPER,  cinco.CODCARGODEP, cinco.CODORDENTRABAJO, cinco.FECHAORDEN, cinco.DESCRIPSINTOMAS, cinco.ESTADO, cinco.CODACTIVO, cinco.CARGO
FROM(SELECT departamentos.CODDEPARTAMENTO, departamentos.NOMBDEPARTAMENTO, cuatro.CODCARGO, cuatro.CODASIGCARGOPER, cuatro.CODPERSONAL, cuatro.CODCARGODEP, cuatro.CODORDENTRABAJO, cuatro.FECHAORDEN, cuatro.DESCRIPSINTOMAS, cuatro.ESTADO, cuatro.CODACTIVO, cuatro.CARGO
FROM(SELECT cargo.CODCARGO, cargo.CARGO, cargo.CODDEPARTAMENTO, tres.CODASIGCARGOPER, tres.CODPERSONAL, tres.CODCARGODEP, tres.CODORDENTRABAJO, tres.FECHAORDEN, tres.DESCRIPSINTOMAS, tres.ESTADO, tres.CODACTIVO
FROM(SELECT asigcargopersonal.CODASIGCARGOPER, asigcargopersonal.CODPERSONAL, asigcargopersonal.CODCARGODEP, dos.CODORDENTRABAJO, dos.FECHAORDEN, dos.DESCRIPSINTOMAS, dos.ESTADO, dos.CODACTIVO
FROM(SELECT asignacionactivo.CODASIGACTIVO, asignacionactivo.CODASIGCARGOPER, uno.CODORDENTRABAJO, uno.FECHAORDEN, uno.DESCRIPSINTOMAS, uno.ESTADO, asignacionactivo.CODACTIVO
FROM(SELECT ordentrabajo.CODORDENTRABAJO, ordentrabajo.CODASIGACTIVO, ordentrabajo.FECHAORDEN, ordentrabajo.DESCRIPSINTOMAS, ordentrabajo.ESTADO
FROM ordentrabajo)uno, asignacionactivo
WHERE asignacionactivo.CODASIGACTIVO=uno.CODASIGACTIVO)dos, asigcargopersonal
WHERE asigcargopersonal.CODASIGCARGOPER=dos.CODASIGCARGOPER)tres, cargo
WHERE cargo.CODCARGO=tres.CODCARGODEP)cuatro, departamentos
WHERE departamentos.CODDEPARTAMENTO=cuatro.CODDEPARTAMENTO AND departamentos.NOMBDEPARTAMENTO LIKE concat('%', _NOMBDEPARTAMENTO, '%'))cinco, personal
WHERE personal.CODPERSONAL=cinco.CODPERSONAL)seis, persona
WHERE persona.CI=seis.CI)siete, activo
WHERE activo.CODACTIVO=siete.CODACTIVO
ORDER BY siete.NOMBDEPARTAMENTO DESC;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Personal_add` (IN `_CODITEM` VARCHAR(20), IN `_CI` VARCHAR(20), IN `_FECHAASIGNACION` DATE, IN `_ESTADO` TINYINT)   BEGIN
	INSERT INTO personal(CODITEM,CI,FECHAASIGNACION,ESTADO) VALUES (_CODITEM,_CI,_FECHAASIGNACION,_ESTADO);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Personal_delete` (IN `_CODPERSONAL` INT(11))   BEGIN
DELETE FROM personal WHERE CODPERSONAL=_CODPERSONAL;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Personal_disable` (IN `_CODPERSONAL` INT(11))   BEGIN
	UPDATE personal SET ESTADO=0 WHERE CODPERSONAL=_CODPERSONAL;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Personal_enable` (IN `_CODPERSONAL` INT(11))   BEGIN
	UPDATE personal SET ESTADO=1 WHERE CODPERSONAL=_CODPERSONAL;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Personal_search` (IN `_CRITERIAL` VARCHAR(25))   BEGIN
	SELECT CODPERSONAL, CODITEM, CI, FECHAASIGNACION, FECHADESASIGNACION
    FROM personal
    WHERE CODITEM LIKE CONCAT('%',_CRITERIAL, '%') OR CI LIKE CONCAT('%',_CRITERIAL, '%') OR FECHAASIGNACION LIKE CONCAT('%',_CRITERIAL, '%') OR FECHADESASIGNACION LIKE CONCAT('%',_CRITERIAL, '%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Personal_update` (IN `_CODPERSONAL` INT(11), IN `_FECHAASIGNACION` DATE, IN `_CODITEM` INT(11))   BEGIN
UPDATE personal
SET FECHAASIGNACION = _FECHAASIGNACION, CODITEM = _CODITEM
WHERE CODPERSONAL = _CODPERSONAL;

END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Persona_add` (IN `_CI` VARCHAR(20), IN `_CODPROFESION` INT(11), IN `_NOMBRES` VARCHAR(50), IN `_APPATERNO` VARCHAR(50), IN `_APMATERNO` VARCHAR(50), IN `_FECHANACIMIENTO` DATE, IN `_DIRECCION` VARCHAR(150), IN `_TELEFONO` VARCHAR(8), IN `_CORREO` VARCHAR(30), IN `_CELULAR` VARCHAR(8), IN `_SEXO` CHAR(1), IN `_EXPEDIDOCI` VARCHAR(5))   BEGIN
        INSERT INTO persona(CI,CODPROFESION,NOMBRES,APPATERNO,APMATERNO,FECHANACIMIENTO,DIRECCION,TELEFONO,CORREO,CELULAR,SEXO,EXPEDIDOCI) VALUES (_CI,_CODPROFESION,_NOMBRES,_APPATERNO,_APMATERNO,_FECHANACIMIENTO,_DIRECCION,_TELEFONO,_CORREO,_CELULAR,_SEXO,_EXPEDIDOCI);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Persona_search` (IN `_NOMBRES` VARCHAR(100))   BEGIN
SELECT persona.CI, persona.CODPROFESION, profesion.PROFESION, persona.NOMBRES, persona.APPATERNO, persona.APMATERNO, persona.FECHANACIMIENTO, persona.DIRECCION, persona.TELEFONO, persona.CORREO, persona.CELULAR, persona.SEXO, persona.EXPEDIDOCI
FROM persona
INNER JOIN profesion
ON persona.CODPROFESION = profesion.CODPROFESION
WHERE CONCAT(persona.APPATERNO, ' ', persona.APMATERNO, ' ', persona.NOMBRES) LIKE concat('%', _NOMBRES,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Persona_update` (IN `_CI` VARCHAR(20), IN `_CODPROFESION` INT(11), IN `_NOMBRES` VARCHAR(50), IN `_APPATERNO` VARCHAR(50), IN `_APMATERNO` VARCHAR(50), IN `_FECHANACIMIENTO` DATE, IN `_DIRECCION` VARCHAR(150), IN `_TELEFONO` VARCHAR(8), IN `_CORREO` VARCHAR(30), IN `_CELULAR` VARCHAR(8), IN `_SEXO` VARCHAR(1), IN `_EXPEDIDOCI` VARCHAR(5))   BEGIN
	UPDATE persona SET
        CI=_CI,
        CODPROFESION=_CODPROFESION,
        NOMBRES=_NOMBRES,
        APPATERNO=_APPATERNO,
        APMATERNO=_APMATERNO,
        FECHANACIMIENTO=_FECHANACIMIENTO,
        DIRECCION=_DIRECCION,
        TELEFONO=_TELEFONO,
        CORREO=_CORREO,
        CELULAR=_CELULAR,
        SEXO=_SEXO,
        EXPEDIDOCI=_EXPEDIDOCI
    WHERE CI=_CI;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_add` (IN `_NIT` VARCHAR(30), IN `_NOMPROVEEDOR` VARCHAR(50), IN `_DIRECCION` VARCHAR(150), IN `_TELEFONOPROVEEDOR` VARCHAR(8), IN `_CONTACTO` VARCHAR(30), IN `_CORREOCONTACTO` VARCHAR(30), IN `_CELULARCONTACTO` VARCHAR(8), IN `_ESTADO` TINYINT)   BEGIN
INSERT INTO proveedor(NIT,NOMPROVEEDOR,DIRECCION,TELEFONOPROVEEDOR,CONTACTO,CORREOCONTACTO,CELULARCONTACTO,ESTADO)VALUES(_NIT,_NOMPROVEEDOR,_DIRECCION,_TELEFONOPROVEEDOR,_CONTACTO,_CORREOCONTACTO,_CELULARCONTACTO,_ESTADO);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_delete` (IN `_NIT` VARCHAR(30))   BEGIN
DELETE FROM proveedor WHERE NIT=_NIT;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_disable` (IN `_NIT` VARCHAR(50))   BEGIN
UPDATE proveedor SET ESTADO=0 WHERE NIT=_NIT;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_enable` (IN `_NIT` VARCHAR(50))   BEGIN
UPDATE proveedor SET ESTADO=1 WHERE NIT=_NIT;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_search` (IN `_NOMPROVEEDOR` VARCHAR(50))   BEGIN
SELECT NIT, NOMPROVEEDOR, DIRECCION, TELEFONOPROVEEDOR, CONTACTO, CORREOCONTACTO, CELULARCONTACTO, ESTADO
FROM proveedor
WHERE NOMPROVEEDOR LIKE concat('%',_NOMPROVEEDOR,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_update` (IN `_NIT` VARCHAR(30), IN `_NOMPROVEEDOR` VARCHAR(50), IN `_DIRECCION` VARCHAR(150), IN `_TELEFONOPROVEEDOR` VARCHAR(8), IN `_CONTACTO` VARCHAR(30), IN `_CORREOCONTACTO` VARCHAR(30), IN `_CELULARCONTACTO` VARCHAR(8))   BEGIN
UPDATE proveedor SET NOMPROVEEDOR=_NOMPROVEEDOR, DIRECCION=_DIRECCION, TELEFONOPROVEEDOR=_TELEFONOPROVEEDOR, CONTACTO=_CONTACTO, CORREOCONTACTO=_CORREOCONTACTO, CELULARCONTACTO=_CELULARCONTACTO WHERE NIT=_NIT;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Proveedor_validate` (IN `_NOMPROVEEDOR` VARCHAR(50))   BEGIN
	SET @validate1 = (SELECT COUNT(*) FROM proveedor WHERE NOMPROVEEDOR=_NOMPROVEEDOR);
    	IF @validate1 > 0 THEN
        	SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Proveedor name already exists';
       END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Repuestos_add` (IN `_NOMREPUESTO` VARCHAR(50), IN `_DETALLEREPUESTO` VARCHAR(200), IN `_FECHA` DATE, IN `_MARCA` VARCHAR(50), IN `_MODELO` VARCHAR(50), IN `_CANTIDAD` INT(11), IN `_ESTADO` TINYINT, IN `_CODTIPOREPUESTO` INT(11))   BEGIN
IF _DETALLEREPUESTO='' THEN
	INSERT INTO repuestos(NOMREPUESTO,FECHA,MARCA,MODELO,CANTIDAD,ESTADO,CODTIPOREPUESTO)VALUES(_NOMREPUESTO,_FECHA,_MARCA,_MODELO,_CANTIDAD,_ESTADO,_CODTIPOREPUESTO);
ELSE
	INSERT INTO repuestos(NOMREPUESTO,DETALLEREPUESTO,FECHA,MARCA,MODELO,CANTIDAD,ESTADO,CODTIPOREPUESTO)VALUES(_NOMREPUESTO,_DETALLEREPUESTO,_FECHA,_MARCA,_MODELO,_CANTIDAD,_ESTADO,_CODTIPOREPUESTO);
END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Repuestos_disable` (IN `_CODREPUESTO` INT(11))   BEGIN
UPDATE repuestos SET repuestos.ESTADO=0 WHERE repuestos.CODREPUESTO=_CODREPUESTO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Repuestos_enable` (IN `_CODREPUESTO` INT(11))   BEGIN
UPDATE repuestos SET repuestos.ESTADO=1 WHERE repuestos.CODREPUESTO=_CODREPUESTO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Repuestos_update` (IN `_CODREPUESTO` INT(11), IN `_NOMREPUESTO` VARCHAR(50), IN `_DETALLEREPUESTO` VARCHAR(200), IN `_FECHA` DATE, IN `_MARCA` VARCHAR(50), IN `_MODELO` VARCHAR(50), IN `_CANTIDAD` INT(11), IN `_CODTIPOREPUESTO` INT(11))   BEGIN
IF _DETALLEREPUESTO='' THEN
	UPDATE repuestos SET NOMREPUESTO=_NOMREPUESTO,FECHA=_FECHA,MARCA=_MARCA,MODELO=_MODELO,CANTIDAD=_CANTIDAD,CODTIPOREPUESTO=_CODTIPOREPUESTO WHERE CODREPUESTO=_CODREPUESTO;
ELSE
UPDATE repuestos SET NOMREPUESTO=_NOMREPUESTO,DETALLEREPUESTO=_DETALLEREPUESTO,FECHA=_FECHA,MARCA=_MARCA,MODELO=_MODELO,CANTIDAD=_CANTIDAD,CODTIPOREPUESTO=_CODTIPOREPUESTO WHERE CODREPUESTO=_CODREPUESTO;
END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Repuesto_search` (IN `_NOMREPUESTO` VARCHAR(50))   BEGIN
SELECT repuestos.CODREPUESTO AS CODREPUESTO, repuestos.NOMREPUESTO AS NOMREPUESTO, repuestos.DETALLEREPUESTO AS DETALLEREPUESTO, repuestos.FECHA AS FECHA, repuestos.MARCA AS MARCA, repuestos.MODELO AS MODELO, repuestos.CANTIDAD AS CANTIDAD, repuestos.ESTADO AS ESTADO, repuestos.FHREGSERV AS FHREGSERV, tiporepuesto.CODTIPOREPUESTO AS CODTIPOREPUESTO, tiporepuesto.NOMTIPOREPUESTO AS NOMTIPOREPUESTO FROM repuestos, tiporepuesto WHERE tiporepuesto.CODTIPOREPUESTO = repuestos.CODTIPOREPUESTO && repuestos.NOMREPUESTO LIKE concat('%', _NOMREPUESTO, '%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Subtareas_add` (IN `_CODTAREA` INT(11), IN `_NOMSUBTAREA` VARCHAR(100), IN `_ESTADO` TINYINT)   BEGIN
	SET @validate=(SELECT COUNT(*) FROM subtareas WHERE NOMSUBTAREA=_NOMSUBTAREA);
    IF @validate>0 THEN
    	SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT='Subtarea name already exists';
    ELSE
    	INSERT INTO subtareas(CODTAREA,NOMSUBTAREA,ESTADO)VALUES(_CODTAREA,_NOMSUBTAREA,_ESTADO);
    END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Subtareas_disable` (IN `_CODSUBTAREA` INT(11))   BEGIN
	UPDATE subtareas SET ESTADO=0 WHERE CODSUBTAREA=_CODSUBTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Subtareas_enable` (IN `_CODSUBTAREA` INT(11))   BEGIN
	UPDATE subtareas SET ESTADO=1 WHERE CODSUBTAREA=_CODSUBTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Subtareas_update_name` (IN `_CODSUBTAREA` INT(11), IN `_NOMSUBTAREA` VARCHAR(100))   BEGIN
    	SET @validate=(SELECT COUNT(*) FROM subtareas WHERE NOMSUBTAREA=_NOMSUBTAREA);
        IF @validate>0 THEN
        	SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT='Subtarea name already exists';
        ELSE
        	UPDATE subtareas SET NOMSUBTAREA=_NOMSUBTAREA WHERE CODSUBTAREA=_CODSUBTAREA;
        END IF;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Subtarea_search` (IN `_NOMSUBTAREA` VARCHAR(100))   BEGIN
SELECT subtareas.CODSUBTAREA, subtareas.NOMSUBTAREA, dos.CODTAREA, dos.NOMTAREA, dos.CODCATALOGO, dos.NOMCATALOGO, subtareas.ESTADO
FROM(SELECT tareas.CODTAREA, tareas.NOMTAREA, uno.CODCATALOGO, uno.NOMCATALOGO
FROM(SELECT CODCATALOGO, NOMCATALOGO
FROM catalogo)uno, tareas
WHERE tareas.CODCATALOGO=uno.CODCATALOGO)dos, subtareas
WHERE subtareas.CODTAREA=dos.CODTAREA AND NOMSUBTAREA LIKE concat('%', _NOMSUBTAREA, '%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Subtarea_update_tarea` (IN `_CODSUBTAREA` INT(11), IN `_CODTAREA` INT(11))   BEGIN
	UPDATE subtareas SET CODTAREA=_CODTAREA WHERE CODSUBTAREA=_CODSUBTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_TareasSubtareas_seach` (IN `_CODTAREA` INT(11))   BEGIN
	SELECT tareas.CODTAREA,tareas.NOMTAREA,tareas.ESTADO,uno.CODSUBTAREA,uno.NOMSUBTAREA,uno.ESTADO
FROM(SELECT CODSUBTAREA,CODTAREA,NOMSUBTAREA,ESTADO
	FROM subtareas)uno, tareas
WHERE uno.CODTAREA=tareas.CODTAREA AND tareas.CODTAREA=_CODTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tareas_add` (IN `_NOMTAREA` VARCHAR(100), IN `_ESTADO` TINYINT, IN `_CODCATALOGO` INT(11))   BEGIN
INSERT INTO tareas(NOMTAREA,ESTADO,CODCATALOGO)VALUES(_NOMTAREA,_ESTADO,_CODCATALOGO);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tareas_disable` (IN `_CODTAREA` INT(11))   BEGIN
	UPDATE tareas SET ESTADO=0 WHERE CODTAREA=_CODTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tareas_enable` (IN `_CODTAREA` INT(11))   BEGIN
	UPDATE tareas SET ESTADO=1 WHERE CODTAREA=_CODTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tareas_search` (IN `_NOMTAREA` VARCHAR(100))   BEGIN
SELECT tareas.CODTAREA, tareas.NOMTAREA, tareas.ESTADO, uno.CODCATALOGO, uno.NOMCATALOGO
FROM(SELECT CODCATALOGO, NOMCATALOGO
FROM catalogo)uno, tareas
WHERE tareas.CODCATALOGO=uno.CODCATALOGO AND tareas.NOMTAREA LIKE concat('%',_NOMTAREA,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tarea_update` (IN `_CODTAREA` INT(11), IN `_NOMTAREA` VARCHAR(100), IN `_CODCATALOGO` INT(11))   BEGIN
	UPDATE tareas SET NOMTAREA=_NOMTAREA,CODCATALOGO=_CODCATALOGO WHERE CODTAREA=_CODTAREA;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_TecnicosdelCentro_search` (IN `_CODCENTRO` INT(11), IN `_NOMBRES` VARCHAR(50))   BEGIN
SELECT personal.CODITEM, cargo.CARGO, CONCAT(persona.NOMBRES, ' ', persona.APPATERNO, ' ', persona.APMATERNO) as NOMBRES, persona.CELULAR, tecnicos.CODTECNICO, tecnicos.ESTADO
FROM personal
JOIN persona ON personal.CI = persona.CI
JOIN asigcargopersonal ON personal.CODPERSONAL = asigcargopersonal.CODPERSONAL
JOIN cargo ON asigcargopersonal.CODCARGODEP = cargo.CODCARGO
JOIN tecnicos ON asigcargopersonal.CODASIGCARGOPER = tecnicos.CODASIGCARGOPER
JOIN centromantenimiento ON tecnicos.CODCENTRO = centromantenimiento.CODCENTRO
WHERE CONCAT(persona.NOMBRES, ' ', persona.APPATERNO, ' ', persona.APMATERNO) LIKE concat('%', _NOMBRES,'%') AND centromantenimiento.CODCENTRO = _CODCENTRO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tecnicos_add` (IN `_CODASIGCARGOPER` INT(11), IN `_CODCENTRO` INT(11))   BEGIN
INSERT INTO tecnicos (CODASIGCARGOPER, ESTADO, CODCENTRO)
VALUES (_CODASIGCARGOPER, 1, _CODCENTRO);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tecnicos_delete` (IN `_CODTECNICO` INT(11))   BEGIN
	DELETE FROM tecnicos WHERE CODTECNICO=_CODTECNICO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tecnicos_disable` (IN `_CODTECNICO` INT(11))   BEGIN
	UPDATE tecnicos SET ESTADO=0 WHERE CODTECNICO=_CODTECNICO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tecnicos_enable` (IN `_CODTECNICO` INT(11))   BEGIN
	UPDATE tecnicos SET ESTADO=1 WHERE CODTECNICO=_CODTECNICO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tecnicos_search` (IN `_NOMBRES` VARCHAR(50))   BEGIN
SELECT i.CODITEM, CONCAT(p.NOMBRES, ' ', p.APPATERNO, ' ', p.APMATERNO) AS NOMBRE_COMPLETO, c.CARGO, acp.CODASIGCARGOPER
FROM item i
JOIN personal per ON i.CODITEM = per.CODITEM
JOIN persona p ON per.CI = p.CI
JOIN asigcargopersonal acp ON per.CODPERSONAL = acp.CODPERSONAL
JOIN cargo c ON acp.CODCARGODEP = c.CODCARGO
WHERE CONCAT(p.NOMBRES, ' ', p.APPATERNO, ' ', p.APMATERNO) LIKE concat('%',_NOMBRES,'%');
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Tecnicos_update` (IN `_CODTECNICO` INT(11), IN `_CODASIGCARGOPER` INT(11))   BEGIN
UPDATE tecnicos SET CODASIGCARGOPER=_CODASIGCARGOPER WHERE CODTECNICO=_CODTECNICO;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `DB_SP_Usuario_Add` (IN `_NOMREUSUARIO` BLOB, IN `_CI` VARCHAR(20), IN `_CODASIGNACION` INT(11), IN `_CONTRASENA` BLOB, IN `_ESTADO` TINYINT)   BEGIN
	INSERT INTO usuario(NOMREUSUARIO,CI,CODASIGNACION,CONTRASENA,ESTADO)VALUES(AES_ENCRYPT(_NOMREUSUARIO, 'igbj'), _CI,_CODASIGNACION,AES_ENCRYPT(_CONTRASENA,'igbj'),1);
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `activo`
--

CREATE TABLE `activo` (
  `CODACTIVO` int(11) NOT NULL,
  `NITPROVEEDOR` varchar(30) NOT NULL,
  `CODMODELO` int(11) NOT NULL,
  `DESCRIPCION` varchar(150) NOT NULL,
  `CODPROCEDENCIA` int(11) NOT NULL,
  `CODACTIVOFIJO` varchar(15) NOT NULL,
  `SERIE` longtext NOT NULL,
  `ANIOFABRICACION` int(11) NOT NULL,
  `FECHAINGRESO` date NOT NULL,
  `FOTOGRAFIA` longblob NOT NULL,
  `FHREGSERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `FECHAMODIFICACION` date DEFAULT NULL,
  `USUARIOREGISTRO` int(11) NOT NULL,
  `ESTADOACTIVO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `activo`
--

INSERT INTO `activo` (`CODACTIVO`, `NITPROVEEDOR`, `CODMODELO`, `DESCRIPCION`, `CODPROCEDENCIA`, `CODACTIVOFIJO`, `SERIE`, `ANIOFABRICACION`, `FECHAINGRESO`, `FOTOGRAFIA`, `FHREGSERV`, `FECHAMODIFICACION`, `USUARIOREGISTRO`, `ESTADOACTIVO`) VALUES
(4, 'F1F1F1', 2, 'NUEVO', 1, '1', 'CDNSKCSDCKSJCKSJCLDSJ', 2050, '0002-12-09', 0x617474686f72742d73637265656e323032322d31312d32352d30303a32372d35372e6a7067, '2023-02-11 01:36:15', NULL, 1, 1),
(5, 'F1F1F2', 1, 'otro nuevo', 1, '1', '123456789', 2022, '2022-02-02', 0x303030303030303030303030303030303030303030303030303030303030303030303030303030302030303030303030303030303030303030303030303030303030303030303030303030303030303030203030303030303030303030303030303030303030303030303030303030303030303030303030303020303030303030303030303030303030303030303030303030303030303030303030303030303030302030303030303030303030303030303030303030303030303030303030303030303030303030303030203030303030303030313130303030303030303030303030303030303030303130303030303030303020313131313131313131313131313131313131313131313131313131313131313131313131313131312031313131313131313131313131313131313131313131313131313131313131313131313131313131203131313131313131313131313131313131313131313131313131313131313131313131313131313120313131313131313131313131313131313131313131313131313131313131313131313131313131312031313131313131313131313131313131313131313131313131313131313131313131313131313131203131313131313131313131313131313131313131313131313131313131313131313131313131313120313131313131313131313131313131313131313131313131313131313131313131313131313131312031313131313131313131313131313131313131313131313131313131313131313131313131313131203131313131313131313131313131313131313131313131313131313131313131313131313131313120313131313131313131313131313131313131313131313131313131313131313131313131313131312031313131313131313131313131313131313131313131313131313131313131313131313131313131203131313131313131313131313131313131313131313131313131313131313131313131313131313120313131313131313131313131313131313131313131313131313131313131313131313131313131312031313131313131313131313131313131313131313131313131313131313131313131313131313131, '2023-01-04 21:43:02', NULL, 1, 1);

-- --------------------------------------------------------

--
-- Table structure for table `asigcargopersonal`
--

CREATE TABLE `asigcargopersonal` (
  `CODASIGCARGOPER` int(11) NOT NULL,
  `CODCARGODEP` int(11) NOT NULL,
  `CODPERSONAL` int(11) NOT NULL,
  `FECHAASIGNACION` date NOT NULL,
  `FECHACONCLUCION` date DEFAULT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `MEMODESIGNACION` varchar(30) NOT NULL,
  `FHREGSERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `asigcargopersonal`
--

INSERT INTO `asigcargopersonal` (`CODASIGCARGOPER`, `CODCARGODEP`, `CODPERSONAL`, `FECHAASIGNACION`, `FECHACONCLUCION`, `ESTADO`, `MEMODESIGNACION`, `FHREGSERV`) VALUES
(1, 6, 1, '2022-12-02', '2023-12-12', 1, 'asfqwsygtew43141', '2023-06-14 15:09:49'),
(27, 4, 15, '2023-06-09', NULL, 1, 'wqe12', '2023-06-14 16:20:05');

-- --------------------------------------------------------

--
-- Table structure for table `asignacionactivo`
--

CREATE TABLE `asignacionactivo` (
  `CODASIGACTIVO` int(11) NOT NULL,
  `CODASIGCARGOPER` int(11) NOT NULL,
  `CODACTIVO` int(11) NOT NULL,
  `OBSERVACION` varchar(100) DEFAULT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `asignacionactivo`
--

INSERT INTO `asignacionactivo` (`CODASIGACTIVO`, `CODASIGCARGOPER`, `CODACTIVO`, `OBSERVACION`, `ESTADO`) VALUES
(1, 1, 5, 'ninguna', 1),
(3, 1, 4, NULL, 1);

-- --------------------------------------------------------

--
-- Table structure for table `asignacionrepuesto`
--

CREATE TABLE `asignacionrepuesto` (
  `CODASIGBNACION` int(11) NOT NULL,
  `CODDETALLE` int(11) NOT NULL,
  `CODREPUESTO` int(11) NOT NULL,
  `CANTIDAD` int(11) NOT NULL,
  `OBSERVACION` varchar(100) DEFAULT NULL,
  `SERIE` varchar(30) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `asignacionrepuesto`
--

INSERT INTO `asignacionrepuesto` (`CODASIGBNACION`, `CODDETALLE`, `CODREPUESTO`, `CANTIDAD`, `OBSERVACION`, `SERIE`) VALUES
(1, 1, 1, 10, NULL, '45455');

-- --------------------------------------------------------

--
-- Table structure for table `cargo`
--

CREATE TABLE `cargo` (
  `CODCARGO` int(11) NOT NULL,
  `CODDEPARTAMENTO` int(11) NOT NULL,
  `CARGO` varchar(50) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `cargo`
--

INSERT INTO `cargo` (`CODCARGO`, `CODDEPARTAMENTO`, `CARGO`, `ESTADO`) VALUES
(1, 1, 'DIRECTOR', 1),
(2, 2, 'ADMIN', 1),
(3, 3, 'ASESOR LEGAL', 1),
(4, 4, 'AUDITOR', 1),
(5, 5, 'GESTOR DE CALIDAD', 0),
(6, 6, 'JEFE DE LABORATORIO', 1),
(7, 7, 'JEFE DE FARMACIA', 1),
(8, 8, 'JEFE DE SISTEMAS', 1),
(9, 8, 'AUXILIAR DE SISTEMAS', 1),
(10, 9, 'AUXILIAR DE BIOMEDICA', 1),
(11, 9, 'TECNICO BIOMEDICO', 0),
(15, 1, 'ENCARGADO', 1),
(16, 8, 'Jefe del DPTO de sistemas 4566', 1),
(17, 8, '())()()()()()()(:;', 1),
(18, 2, 'ADMIN', 1),
(19, 2, 'Jefe de Dpto Sis', 1);

-- --------------------------------------------------------

--
-- Table structure for table `catalogo`
--

CREATE TABLE `catalogo` (
  `CODCATALOGO` int(11) NOT NULL,
  `CODCLASE` int(11) NOT NULL,
  `NOMCATALOGO` varchar(100) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `catalogo`
--

INSERT INTO `catalogo` (`CODCATALOGO`, `CODCLASE`, `NOMCATALOGO`, `ESTADO`) VALUES
(3, 1, 'test', 1),
(4, 2, 'Prueba', 1),
(5, 1, 'test3', 1),
(6, 3, 'ASD21321', 1),
(7, 1, 'ASD21321123', 1),
(8, 1, 'NUEVOS CATALOGOS', 1),
(9, 1, 'NUEVA TAREA', 1);

-- --------------------------------------------------------

--
-- Table structure for table `centromantenimiento`
--

CREATE TABLE `centromantenimiento` (
  `CODCENTRO` int(11) NOT NULL,
  `CENTROMANTENIMIENTO` varchar(50) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `DESCRIPCION` varchar(150) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `centromantenimiento`
--

INSERT INTO `centromantenimiento` (`CODCENTRO`, `CENTROMANTENIMIENTO`, `ESTADO`, `DESCRIPCION`) VALUES
(1, 'biomedica igbjs', 0, 'igbjs'),
(2, 'mantenimiento de computadores', 1, ' '),
(3, 'Mantenimiento de equipos medicos', 0, 'equipos de laboratorio'),
(4, 'Mantenimiento biomedica', 1, ''),
(5, 'nuevos', 1, 'otros'),
(6, 'nuevoss', 1, '');

-- --------------------------------------------------------

--
-- Table structure for table `claseactivo`
--

CREATE TABLE `claseactivo` (
  `CODCLASE` int(11) NOT NULL,
  `PARTIDA` varchar(20) DEFAULT NULL,
  `CLASE` varchar(50) NOT NULL,
  `DESCRIPCIONCLASE` varchar(200) NOT NULL,
  `ESTADO` tinyint(1) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `claseactivo`
--

INSERT INTO `claseactivo` (`CODCLASE`, `PARTIDA`, `CLASE`, `DESCRIPCIONCLASE`, `ESTADO`) VALUES
(1, '428', 'CPU DE COMPUTADORA', 'CPU DE ESCRITORIO', 1),
(2, '428', 'MONITOR DE COMPUTADORA', 'MONITOR DE ESCRITORIO', 1),
(3, '428', 'IMPRESORA DE COMPUTADORA', 'IMPREOSRA DE TINTAS, TONER, CINTAS', 1),
(4, '435', 'FOTOCOPIADORA', 'FOTOCOPIADORA ALTO TRAFICO', 0),
(5, '358', 'CONTADOR HEMATOROLOGICO', 'CONTADOR HEMATOLOGICO ....', 1),
(6, '358', 'SISTEMA DE INFORMACION CLINICO ESTADISTICO', 'CODIGO DE SISTEMA S.I.C.E', 1),
(7, '358', 'BdD SISTEMA DE INFORMACION CLINICO ESTADISTICO', 'BASES DE DATOS DE SISTEMA S.I.C.E.', 0);

-- --------------------------------------------------------

--
-- Table structure for table `cronogramapreventivo`
--

CREATE TABLE `cronogramapreventivo` (
  `CODACTIVO` int(11) NOT NULL,
  `FECHAPROGRAMADA` date NOT NULL,
  `FECHASALIDA` date NOT NULL,
  `CODCRONOGRAMA` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `cronogramapreventivo`
--

INSERT INTO `cronogramapreventivo` (`CODACTIVO`, `FECHAPROGRAMADA`, `FECHASALIDA`, `CODCRONOGRAMA`) VALUES
(5, '2023-02-08', '2023-02-10', 1);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Activo_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Activo_view` (
`ANIOFABRICACION` int(11)
,`CLASE` varchar(50)
,`CODACTIVO` int(11)
,`CODCLASE` int(11)
,`CODMARCA` int(11)
,`CODMODELO` int(11)
,`CODPROCEDENCIA` int(11)
,`ESTADOACTIVO` tinyint(1)
,`FOTOGRAFIA` longblob
,`MARCA` varchar(50)
,`MODELO` varchar(50)
,`PROCEDENCIA` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_AsigCargoPersonalAll_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_AsigCargoPersonalAll_view` (
`CODASIGCARGOPER` int(11)
,`CODCARGODEP` int(11)
,`CODPERSONAL` int(11)
,`ESTADO` tinyint(1)
,`FECHAASIGNACION` date
,`FECHACONCLUCION` date
,`MEMODESIGNACION` varchar(30)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_AsigCargoPersonal_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_AsigCargoPersonal_view` (
`CODASIGCARGOPER` int(11)
,`CODCARGODEP` int(11)
,`CODPERSONAL` int(11)
,`ESTADO` tinyint(1)
,`FECHAASIGNACION` date
,`FECHACONCLUCION` date
,`FHREGSERV` timestamp
,`MEMODESIGNACION` varchar(30)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_CargoAlll_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_CargoAlll_view` (
`CARGO` varchar(50)
,`CODCARGO` int(11)
,`CODDEPARTAMENTO` int(11)
,`ESTADO` tinyint(1)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Cargo_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Cargo_view` (
`CARGO` varchar(50)
,`CODCARGO` int(11)
,`CODDEPARTAMENTO` int(11)
,`ESTADO` tinyint(1)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_CatalogoAll_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_CatalogoAll_view` (
`CLASE` varchar(50)
,`CODCATALOGO` int(11)
,`CODCLASE` int(11)
,`ESTADO` tinyint(1)
,`NOMCATALOGO` varchar(100)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Centromantenimiento_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Centromantenimiento_view` (
`CENTROMANTENIMIENTO` varchar(50)
,`CODCENTRO` int(11)
,`DESCRIPCION` varchar(150)
,`ESTADO` tinyint(1)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_ClaseactivoMarca_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_ClaseactivoMarca_view` (
`CLASE` varchar(50)
,`CODCLASE` int(11)
,`CODMARCA` int(11)
,`DESCRIPCIONCLASE` varchar(200)
,`ESTADO` tinyint(1)
,`MARCA` varchar(50)
,`PARTIDA` varchar(20)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Claseactivo_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Claseactivo_view` (
`CLASE` varchar(50)
,`CODCLASE` int(11)
,`DESCRIPCIONCLASE` varchar(200)
,`ESTADO` tinyint(1)
,`PARTIDA` varchar(20)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_DepartamentosAll_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_DepartamentosAll_view` (
`CODDEPARTAMENTO` int(11)
,`DESCRIPCION` varchar(150)
,`ESTADO` tinyint(1)
,`NOMBDEPARTAMENTO` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Departamentos_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Departamentos_view` (
`CODDEPARTAMENTO` int(11)
,`DESCRIPCION` varchar(150)
,`ESTADO` tinyint(1)
,`NOMBDEPARTAMENTO` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Item_Available_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Item_Available_view` (
`CODITEM` varchar(20)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Item_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Item_view` (
`CODITEM` varchar(20)
,`ESTADO` tinyint(1)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Ordentrabajo_ResponsableActivo_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Ordentrabajo_ResponsableActivo_view` (
`APMATERNO` varchar(50)
,`APPATERNO` varchar(50)
,`CARGO` varchar(50)
,`CODASIGCARGOPER` int(11)
,`NOMBRES` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Ordentrabajo_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Ordentrabajo_view` (
`APMATERNO` varchar(50)
,`APPATERNO` varchar(50)
,`CARGO` varchar(50)
,`CI` varchar(20)
,`CODACTIVO` int(11)
,`CODDEPARTAMENTO` int(11)
,`CODORDENTRABAJO` int(11)
,`DESCRIPCION` varchar(150)
,`DESCRIPSINTOMAS` varchar(100)
,`FECHAORDEN` date
,`NOMBDEPARTAMENTO` varchar(50)
,`NOMBRES` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_PersonalAll_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_PersonalAll_view` (
`CI` varchar(20)
,`CODITEM` varchar(20)
,`CODPERSONAL` int(11)
,`ESTADO` tinyint(1)
,`FECHAASIGNACION` date
,`FECHADESASIGNACION` date
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Personal_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Personal_view` (
`CI` varchar(20)
,`CODITEM` varchar(20)
,`CODPERSONAL` int(11)
,`ESTADO` tinyint(1)
,`FECHAASIGNACION` date
,`FECHADESASIGNACION` date
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Persona_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Persona_view` (
`APMATERNO` varchar(50)
,`APPATERNO` varchar(50)
,`CELULAR` varchar(8)
,`CI` varchar(20)
,`CODPROFESION` int(11)
,`CORREO` varchar(30)
,`DIRECCION` varchar(150)
,`EXPEDIDOCI` varchar(5)
,`FECHANACIMIENTO` date
,`NOMBRES` varchar(50)
,`SEXO` char(1)
,`TELEFONO` varchar(8)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Procedencia_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Procedencia_view` (
`CODPROCEDENCIA` int(11)
,`ESTADO` tinyint(1)
,`PROCEDENCIA` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Profesion_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Profesion_view` (
`ABREVIACION` char(10)
,`CODPROFESION` int(11)
,`ESTADO` tinyint(1)
,`GRADOACADEMICO` varchar(50)
,`PROFESION` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Provedor_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Provedor_view` (
`CELULARCONTACTO` varchar(8)
,`CONTACTO` varchar(30)
,`CORREOCONTACTO` varchar(30)
,`DIRECCION` varchar(150)
,`ESTADO` tinyint(4)
,`NIT` varchar(30)
,`NOMPROVEEDOR` varchar(50)
,`TELEFONOPROVEEDOR` varchar(8)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Repuestos_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Repuestos_view` (
`CANTIDAD` int(11)
,`CODREPUESTO` int(11)
,`CODTIPOREPUESTO` int(11)
,`DETALLEREPUESTO` varchar(200)
,`ESTADO` tinyint(1)
,`FECHA` date
,`FHREGSERV` timestamp
,`MARCA` varchar(50)
,`MODELO` varchar(50)
,`NOMREPUESTO` varchar(50)
,`NOMTIPOREPUESTO` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Subtareas_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Subtareas_view` (
`CODCATALOGO` int(11)
,`CODSUBTAREA` int(11)
,`CODTAREA` int(11)
,`ESTADO` tinyint(1)
,`NOMCATALOGO` varchar(100)
,`NOMSUBTAREA` varchar(100)
,`NOMTAREA` varchar(100)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_TareasSubtareas_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_TareasSubtareas_view` (
`CODSUBTAREA` int(11)
,`CODTAREA` int(11)
,`ESTADO` tinyint(1)
,`NOMSUBTAREA` varchar(100)
,`NOMTAREA` varchar(100)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Tareas_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Tareas_view` (
`CODCATALOGO` int(11)
,`CODTAREA` int(11)
,`ESTADO` tinyint(1)
,`NOMCATALOGO` varchar(100)
,`NOMTAREA` varchar(100)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_TecnicosDelCentro_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_TecnicosDelCentro_view` (
`APMATERNO` varchar(50)
,`APPATERNO` varchar(50)
,`CENTROMANTENIMIENTO` varchar(50)
,`CI` varchar(20)
,`CODASIGCARGOPER` int(11)
,`CODCENTRO` int(11)
,`CODPERSONAL` int(11)
,`CODTECNICO` int(11)
,`DESCRIPCION` varchar(150)
,`NOMBRES` varchar(50)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Tecnicos_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Tecnicos_view` (
`APMATERNO` varchar(50)
,`APPATERNO` varchar(50)
,`CELULAR` varchar(8)
,`CI` varchar(20)
,`CODASIGCARGOPER` int(11)
,`CODPERSONAL` int(11)
,`CODTECNICO` int(11)
,`CORREO` varchar(30)
,`ESTADO` tinyint(1)
,`FECHAASIGNACION` date
,`FECHACONCLUCION` date
,`NOMBRES` varchar(50)
,`SEXO` char(1)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `DB_VIEW_Tiporepuesto_view`
-- (See below for the actual view)
--
CREATE TABLE `DB_VIEW_Tiporepuesto_view` (
`CODTIPOREPUESTO` int(11)
,`NOMTIPOREPUESTO` varchar(50)
);

-- --------------------------------------------------------

--
-- Table structure for table `departamentos`
--

CREATE TABLE `departamentos` (
  `CODDEPARTAMENTO` int(11) NOT NULL,
  `NOMBDEPARTAMENTO` varchar(50) NOT NULL,
  `DESCRIPCION` varchar(150) DEFAULT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `departamentos`
--

INSERT INTO `departamentos` (`CODDEPARTAMENTO`, `NOMBDEPARTAMENTO`, `DESCRIPCION`, `ESTADO`) VALUES
(1, 'DIRECCIONs', '123s', 1),
(2, 'ADMINISTRACION', NULL, 1),
(3, 'ASESORIAL LEGAL', NULL, 1),
(4, 'AUDITORIA', NULL, 1),
(5, ',.=)=()', 'm,', 1),
(6, 'LABORATORIO CENTRAL', NULL, 1),
(7, '=======', 'testing 15', 1),
(8, 'SISTEMAS', NULL, 1),
(9, 'BIOMEDICA', NULL, 1),
(48, 'MANTENIMIENTO', 'DPTO de mantenimiento de software y hardware', 0),
(49, 'MANTENIMIENTO DE EQUIPOS', 'SD', 1),
(50, 'LIMPIEZA', NULL, 1),
(51, 'Direccion sistemas', 'esp', 1),
(52, 'Desarrollo institucional', NULL, 1),
(56, 'PRUEBA', NULL, 1),
(57, 'PRUEBA1', 'VDSJB', 1),
(58, 'TEST2', NULL, 1),
(64, 'test5', NULL, 1),
(65, 'test6', 'test6', 1),
(68, '123', NULL, 1),
(69, ' 4 5 4 L I', 'no existe', 1),
(70, '      10', NULL, 1),
(71, '10', NULL, 1),
(72, '1', NULL, 0),
(73, 'SISTEMASINFORMATICOS', NULL, 1),
(74, 'SISTEMASINF', NULL, 1);

-- --------------------------------------------------------

--
-- Table structure for table `detallecronograma`
--

CREATE TABLE `detallecronograma` (
  `CODTAREA` int(11) NOT NULL,
  `CANTIDAD` int(11) NOT NULL,
  `CODDETALLE` int(11) NOT NULL,
  `CODCRONOGRAMA` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `detallecronograma`
--

INSERT INTO `detallecronograma` (`CODTAREA`, `CANTIDAD`, `CODDETALLE`, `CODCRONOGRAMA`) VALUES
(1, 2, 1, 1);

-- --------------------------------------------------------

--
-- Table structure for table `detallemantenimiento`
--

CREATE TABLE `detallemantenimiento` (
  `CODDETALLE` int(11) NOT NULL,
  `CODMANTENIMIENTO` int(11) NOT NULL,
  `CODTAREA` int(11) NOT NULL,
  `CANTIDAD` int(11) NOT NULL,
  `OBSERVACION` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `detallemantenimiento`
--

INSERT INTO `detallemantenimiento` (`CODDETALLE`, `CODMANTENIMIENTO`, `CODTAREA`, `CANTIDAD`, `OBSERVACION`) VALUES
(1, 1, 1, 10, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `History`
--

CREATE TABLE `History` (
  `idHistory` int(11) NOT NULL,
  `usuarioCambio` varchar(50) DEFAULT NULL,
  `accion` varchar(15) NOT NULL,
  `tablaAfectada` varchar(30) NOT NULL,
  `datosAnteriores` varchar(500) DEFAULT NULL,
  `datosActuales` varchar(500) DEFAULT NULL,
  `fechaModificacion` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `History`
--

INSERT INTO `History` (`idHistory`, `usuarioCambio`, `accion`, `tablaAfectada`, `datosAnteriores`, `datosActuales`, `fechaModificacion`) VALUES
(2, 'local', 'INSERT', 'item', ' ', '11, 0', '2022-12-12 17:56:58'),
(3, 'local', 'INSERT', 'asigcargopersonal', ' ', NULL, '2022-12-12 18:06:52'),
(4, 'local', 'INSERT', 'asigcargopersonal', ' ', NULL, '2022-12-12 18:08:26'),
(5, 'local', 'INSERT', 'asigcargopersonal', ' ', '0, 1, 5, 2022-02-02, 1, 1, 2022-12-12 14:09:47', '2022-12-12 18:09:47'),
(6, 'local', 'INSERT', 'catalogo', ' ', '0, 1, test, 1', '2022-12-12 21:10:29'),
(7, 'local', 'UPDATE', 'cargo', '1, DIRECTOR, 1', '1, DIRECTOR, 0', '2022-12-12 21:40:04'),
(8, 'local', 'UPDATE', 'cargo', '2, ADMINISTRADOR, 1', '2, ADMIN, 1', '2022-12-12 21:40:34'),
(9, 'local', 'UPDATE', 'departamentos', NULL, NULL, '2022-12-12 21:59:49'),
(10, 'local', 'UPDATE', 'departamentos', '1, DIRECCION, Nuevo departamento, 0', '1, DIRECCION, 123, 0', '2022-12-12 22:06:17'),
(11, 'local', 'UPDATE', 'departamentos', NULL, NULL, '2022-12-12 22:06:58'),
(12, 'local', 'INSERT', 'departamentos', 'no existe', '0, ,.=)=(), 1', '2022-12-13 14:15:33'),
(13, 'local', 'INSERT', 'departamentos', 'no existe', '0,     , 0', '2022-12-13 14:17:04'),
(14, 'local', 'INSERT', 'departamentos', 'no existe', '0, 123, 1', '2022-12-13 14:18:07'),
(15, 'local', 'INSERT', 'departamentos', 'no existe', '0,  4 5 4 L I, no existe, 1', '2022-12-13 14:18:32'),
(16, 'local', 'INSERT', 'departamentos', 'no existe', '0,       10, 1', '2022-12-13 14:24:11'),
(17, 'local', 'INSERT', 'departamentos', 'no existe', '0, 10, 1', '2022-12-13 14:24:27'),
(18, 'local', 'INSERT', 'personal', '', '0, 1, 12345678, 2022-12-31, 1', '2022-12-13 14:42:01'),
(19, 'local', 'INSERT', 'asigcargopersonal', ' ', '0, 10, 14, 2022-12-31, 1, MEM12002202, 2022-12-13 10:43:40', '2022-12-13 14:43:40'),
(20, 'local', 'INSERT', 'cargo', 'no existe', 'CODCARGO= 0 CODDEPARTAMENTO= 8 CARGO= Jefe del DPTO de sistemas 4566 ESTADO= 1', '2022-12-13 14:49:16'),
(21, 'local', 'INSERT', 'cargo', 'no existe', 'CODCARGO= 0 CODDEPARTAMENTO= 8 CARGO= ())()()()()()()(:; ESTADO= 1', '2022-12-13 14:50:14'),
(22, 'local', 'UPDATE', 'cargo', '1, 1, DIRECTOR, 0', '1, 1, DIRECTOR, 1', '2022-12-13 14:51:32'),
(23, 'local', 'UPDATE', 'cargo', '1, 1, DIRECTOR, 1', '1, 1, DIRECTOR, 0', '2022-12-13 14:52:00'),
(24, 'local', 'INSERT', 'departamentos', 'no existe', '0, 1, 0', '2022-12-13 14:55:57'),
(25, 'local', 'UPDATE', 'cargo', '1, 1, DIRECTOR, 0', '1, 1, DIRECTOR, 1', '2022-12-13 15:02:42'),
(26, 'local', 'INSERT', 'cargo', 'no existe', 'CODCARGO= 0 CODDEPARTAMENTO= 2 CARGO= ADMIN ESTADO= 1', '2022-12-13 15:04:14'),
(27, 'local', 'INSERT', 'departamentos', 'no existe', '0, SISTEMASINFORMATICOS, 1', '2022-12-14 20:43:26'),
(28, 'local', 'INSERT', 'departamentos', 'no existe', '0, SISTEMASINF, 1', '2022-12-14 20:44:03'),
(29, 'local', 'INSERT', 'asigcargopersonal', ' ', '0, 18, 2, 2022-02-02, 1, 123456789, 2022-12-31 17:10:42', '2022-12-31 21:10:42'),
(30, 'local', 'INSERT', 'asigcargopersonal', ' ', NULL, '2022-12-31 21:11:28'),
(31, 'local', 'DELETE', 'departamentos', '66, ,.=)=(), 1', '', '2023-02-08 13:03:22'),
(32, 'local', 'DELETE', 'departamentos', '67,     , 0', '', '2023-02-08 13:03:24'),
(33, 'local', 'DELETE', 'departamentos', '60, TES2, 1', '', '2023-02-08 13:03:27'),
(34, 'local', 'DELETE', 'departamentos', '53, testing, 1', '', '2023-02-08 13:03:31'),
(35, 'local', 'DELETE', 'departamentos', '54, test, 1', '', '2023-02-08 13:03:34'),
(36, 'local', 'DELETE', 'departamentos', '55, testin, 1', '', '2023-02-08 13:03:38'),
(37, 'local', 'INSERT', 'catalogo', ' ', '0, 1, Test2, 1', '2023-02-08 20:07:53'),
(38, 'local', 'INSERT', 'catalogo', ' ', '0, 1, test3, 1', '2023-02-08 20:12:29'),
(39, 'local', 'INSERT', 'cargo', 'no existe', 'CODCARGO= 0 CODDEPARTAMENTO= 2 CARGO= Jefe de Dpto Sis ESTADO= 1', '2023-02-09 01:19:39'),
(40, 'local', 'INSERT', 'asigcargopersonal', ' ', NULL, '2023-02-10 21:25:59');

-- --------------------------------------------------------

--
-- Table structure for table `informe`
--

CREATE TABLE `informe` (
  `CODINFORME` int(11) NOT NULL,
  `FECHAIMPRESION` date NOT NULL,
  `USUARIOIMPRESION` int(11) NOT NULL,
  `FHREGISERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `informe`
--

INSERT INTO `informe` (`CODINFORME`, `FECHAIMPRESION`, `USUARIOIMPRESION`, `FHREGISERV`) VALUES
(1, '2023-02-12', 11, '2023-02-12 19:51:49');

-- --------------------------------------------------------

--
-- Table structure for table `item`
--

CREATE TABLE `item` (
  `CODITEM` varchar(20) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `item`
--

INSERT INTO `item` (`CODITEM`, `ESTADO`) VALUES
('1', 0),
('11', 0),
('12345', 1),
('123456789', 0),
('72551', 1),
('72552', 1),
('72553', 1),
('72554', 1),
('72555', 1),
('72556', 1),
('72557', 1),
('72558', 1),
('72559', 1),
('72560', 1),
('72561', 1),
('777', 1);

-- --------------------------------------------------------

--
-- Table structure for table `mantenimiento`
--

CREATE TABLE `mantenimiento` (
  `CODMANTENIMIENTO` int(11) NOT NULL,
  `FECHAINGRESO` date NOT NULL,
  `FECHASALIDA` date NOT NULL,
  `ESTADOACTUAL` text NOT NULL,
  `FOTOINGRESO` longblob,
  `FOTOSALIDA` longblob,
  `OBSERVACION` varchar(100) DEFAULT NULL,
  `CODINFORME` int(11) NOT NULL,
  `CODORDENTRABAJO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `mantenimiento`
--

INSERT INTO `mantenimiento` (`CODMANTENIMIENTO`, `FECHAINGRESO`, `FECHASALIDA`, `ESTADOACTUAL`, `FOTOINGRESO`, `FOTOSALIDA`, `OBSERVACION`, `CODINFORME`, `CODORDENTRABAJO`) VALUES
(1, '2023-02-08', '2023-02-10', '', NULL, NULL, NULL, 1, 1);

-- --------------------------------------------------------

--
-- Table structure for table `marca`
--

CREATE TABLE `marca` (
  `CODMARCA` int(11) NOT NULL,
  `CODCLASE` int(11) NOT NULL,
  `MARCA` varchar(50) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `marca`
--

INSERT INTO `marca` (`CODMARCA`, `CODCLASE`, `MARCA`, `ESTADO`) VALUES
(1, 1, 'DELL', 1),
(2, 2, 'SAMSUNG', 1),
(3, 3, 'EPSON', 1),
(4, 4, 'CANON', 1),
(5, 5, 'DELL', 1),
(6, 6, 'MEDICUS MUNDI', 1),
(7, 7, 'SQL SERVER', 1);

-- --------------------------------------------------------

--
-- Table structure for table `modelo`
--

CREATE TABLE `modelo` (
  `CODMODELO` int(11) NOT NULL,
  `CODMARCA` int(11) NOT NULL,
  `MODELO` varchar(50) NOT NULL,
  `DESCRIPCION` varchar(150) NOT NULL,
  `ESTADOMODELO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `modelo`
--

INSERT INTO `modelo` (`CODMODELO`, `CODMARCA`, `MODELO`, `DESCRIPCION`, `ESTADOMODELO`) VALUES
(1, 1, 'SPECTRUM', 'CHINA', 1),
(2, 1, 'ASPIRE', 'RAM 8, SSD 128GB', 1);

-- --------------------------------------------------------

--
-- Table structure for table `ordentrabajo`
--

CREATE TABLE `ordentrabajo` (
  `CODORDENTRABAJO` int(11) NOT NULL,
  `CODASIGACTIVO` int(11) NOT NULL,
  `FECHAORDEN` date NOT NULL,
  `DESCRIPSINTOMAS` varchar(100) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `FHREGSERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `ordentrabajo`
--

INSERT INTO `ordentrabajo` (`CODORDENTRABAJO`, `CODASIGACTIVO`, `FECHAORDEN`, `DESCRIPSINTOMAS`, `ESTADO`, `FHREGSERV`) VALUES
(1, 1, '2022-10-10', 'test', 0, '2023-02-10 21:19:10'),
(2, 3, '2023-02-10', '', 0, '2023-02-10 21:24:25');

-- --------------------------------------------------------

--
-- Table structure for table `persona`
--

CREATE TABLE `persona` (
  `CI` varchar(20) NOT NULL,
  `CODPROFESION` int(11) NOT NULL,
  `NOMBRES` varchar(50) NOT NULL,
  `APPATERNO` varchar(50) NOT NULL,
  `APMATERNO` varchar(50) NOT NULL,
  `FECHANACIMIENTO` date NOT NULL,
  `DIRECCION` varchar(150) DEFAULT NULL,
  `TELEFONO` varchar(8) DEFAULT NULL,
  `CORREO` varchar(30) DEFAULT NULL,
  `CELULAR` varchar(8) DEFAULT NULL,
  `SEXO` char(1) NOT NULL,
  `EXPEDIDOCI` varchar(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `persona`
--

INSERT INTO `persona` (`CI`, `CODPROFESION`, `NOMBRES`, `APPATERNO`, `APMATERNO`, `FECHANACIMIENTO`, `DIRECCION`, `TELEFONO`, `CORREO`, `CELULAR`, `SEXO`, `EXPEDIDOCI`) VALUES
('11111', 9, 'NATY', 'POZO', 'QUIROGA', '0000-00-00', 'AV. VILLAZON', '4444444', 'NATY@GMAIL.COM', '76543221', 'F', 'CB'),
('1113', 1, 'JOSE JUAN', 'OVANDO', 'PEREZ', '0000-00-00', 'AV. OQUENDO', '4444444', 'JOSE@GMAIL.COM', '76543221', 'M', 'CB'),
('12345678', 6, 'Juan', 'Perez', 'Perez', '1999-02-01', 'Oquendo-Ladislao Cabrera', '42345678', 'nuevo@gmail.com', '72345678', 'M', 'PT'),
('2222', 2, 'JOSE JOSE', 'RAMOS', 'SANCHEZ', '0000-00-00', 'AV. VENEZUELA', '4444444', 'JOSE@GMAIL.COM', '76543221', 'M', 'SC'),
('22222', 10, 'CARLOS', 'JIMENEZ', 'PELE', '0000-00-00', 'AV. VILLAZON', '4444444', 'CARLOS@GMAIL.COM', '76543221', 'M', 'CB'),
('3333', 3, 'MARY LUZ', 'PEREDO', 'UGARTE', '0000-00-00', 'AV. LIBERTADOR', '4444444', 'MARY@GMAIL.COM', '76543221', 'F', 'OR'),
('4444', 4, 'PEDRO', 'ALVARADO', 'GUERRA', '0000-00-00', 'AV. COSTANERA', '4444444', 'PEDRO@GMAIL.COM', '76543221', 'M', 'CB'),
('5555', 5, 'CARLOS', 'TORRICO', 'MAMANI', '0000-00-00', 'AV. PETROLERA', '4444444', 'CARLOS@GMAIL.COM', '76543221', 'M', 'LP'),
('5784564', 1, 'Kevin', 'Parra', 'Villa', '2012-02-02', 'av', '12345678', '1234@gmail.com', '12345678', 'M', 'sc'),
('6666', 6, 'NATY', 'QUIROGA', 'POZO', '0000-00-00', 'AV. AMERICA', '4444444', 'NATY@GMAIL.COM', '76543221', 'F', 'CB'),
('7777', 7, 'RICARDO', 'MONTANER', 'PELE', '0000-00-00', 'AV. VILLAZON', '4444444', 'RICARDO@GMAIL.COM', '76543221', 'M', 'CB'),
('8059654', 6, 'Pedro', 'Choquecallata', 'Mamani', '1922-12-13', 'Av Ayacuyo calle Uruguay', '68821879', 'nuevo@gmail.com', '68821879', 'M', 'SCZ'),
('8888', 8, 'JOSE', 'CONDARCO', 'ARAPA', '0000-00-00', 'AV. VILLAZON', '4444444', 'JOSE@GMAIL.COM', '76543221', 'M', 'CB'),
('9058545', 2, 'Juan', 'Quispe', 'Quispe', '2022-06-16', 'Av. 6 de Agosto', '67762923', 'limbervillcacoraite@gmail.com', '67762923', 'M', 'SCZ'),
('9058585', 6, 'Pedro', 'Choque', 'Condori', '2004-07-12', 'Av. 6 de Agosto y Calle moxos', '68821879', 'project@local.com', '68821879', 'M', 'CBBA'),
('9058955', 6, 'Pedro', 'Caceres', 'Quispe', '2004-09-23', 'Av. 6 de Agosto y Calle moxos', '68821879', 'pedrocaceres@gmail.com', '68821879', 'M', 'CHQ'),
('9059654', 8, 'Nuevo', 'Re', 'Coraite', '1999-03-05', 'avenida principal', '12345678', 'nuevo@gmail.com', '12345678', 'M', 'ORU'),
('9999', 8, 'BEYMAR', 'MARCA', 'LLANQUE', '0000-00-00', 'AV. VILLAZON', '4444444', 'BEYMAR@GMAIL.COM', '76543221', 'M', 'CB');

-- --------------------------------------------------------

--
-- Table structure for table `personal`
--

CREATE TABLE `personal` (
  `CODPERSONAL` int(11) NOT NULL,
  `CODITEM` varchar(20) NOT NULL,
  `CI` varchar(20) NOT NULL,
  `FECHAASIGNACION` date NOT NULL,
  `FECHADESASIGNACION` date DEFAULT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `personal`
--

INSERT INTO `personal` (`CODPERSONAL`, `CODITEM`, `CI`, `FECHAASIGNACION`, `FECHADESASIGNACION`, `ESTADO`) VALUES
(1, '72554', '4444', '0000-00-00', '0000-00-00', 1),
(5, '72555', '5555', '0000-00-00', '0000-00-00', 1),
(6, '72556', '6666', '0000-00-00', '0000-00-00', 1),
(7, '72557', '7777', '0000-00-00', '0000-00-00', 1),
(10, '72552', '12345678', '2023-06-11', NULL, 1),
(15, '11', '1113', '2023-06-09', '2023-06-02', 1),
(16, '123456789', '5784564', '2023-06-14', '2023-06-14', 1),
(17, '1', '9058545', '2023-06-08', NULL, 1),
(18, '12345', '2222', '2023-06-08', NULL, 1);

-- --------------------------------------------------------

--
-- Table structure for table `procedencia`
--

CREATE TABLE `procedencia` (
  `CODPROCEDENCIA` int(11) NOT NULL,
  `PROCEDENCIA` varchar(50) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `procedencia`
--

INSERT INTO `procedencia` (`CODPROCEDENCIA`, `PROCEDENCIA`, `ESTADO`) VALUES
(1, 'China', 1);

-- --------------------------------------------------------

--
-- Table structure for table `profesion`
--

CREATE TABLE `profesion` (
  `CODPROFESION` int(11) NOT NULL,
  `PROFESION` varchar(50) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `GRADOACADEMICO` varchar(50) NOT NULL,
  `ABREVIACION` char(10) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `profesion`
--

INSERT INTO `profesion` (`CODPROFESION`, `PROFESION`, `ESTADO`, `GRADOACADEMICO`, `ABREVIACION`) VALUES
(1, 'MEDICO', 1, 'LICENCIATURA', 'Dr.'),
(2, 'LICENCIATURA EN ADMINISTRACION', 1, 'LICENCIATURA', 'Lic.'),
(3, 'LICENCIATURA EN DERECHO', 1, 'LICENCIATURA', 'Abog.'),
(4, 'LICENCIATURA EN AUDITORIA', 1, 'LICENCIATURA', 'Lic.'),
(5, 'LICENCIATRUA EN ENFERMERIA', 1, 'LICENCIATURA', 'Lic. Enf'),
(6, 'BIOQUIMICO', 1, 'LICENCIATURA', 'Dra. Bioq.'),
(7, 'BIOQUIMICO FARMACEUTICA', 1, 'LICENCIATURA', 'Dra. Bioq.'),
(8, 'INGENIERO DE SISTEMAS', 1, 'LICENCIATURA', 'Ing.'),
(9, 'INGENIERO DE BIOMEDICO', 1, 'LICENCIATURA', 'Ing.'),
(10, 'TECNICO BIOMEDICO', 0, 'TECNICO SUPERIOR', 'Tec.'),
(11, 'INGENIERO INFORMATICO', 1, 'Ingenieria', 'IngInf');

-- --------------------------------------------------------

--
-- Table structure for table `proveedor`
--

CREATE TABLE `proveedor` (
  `NIT` varchar(30) NOT NULL,
  `NOMPROVEEDOR` varchar(50) NOT NULL,
  `DIRECCION` varchar(150) NOT NULL,
  `TELEFONOPROVEEDOR` varchar(8) NOT NULL,
  `CONTACTO` varchar(30) NOT NULL,
  `CORREOCONTACTO` varchar(30) NOT NULL,
  `CELULARCONTACTO` varchar(8) NOT NULL,
  `ESTADO` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `proveedor`
--

INSERT INTO `proveedor` (`NIT`, `NOMPROVEEDOR`, `DIRECCION`, `TELEFONOPROVEEDOR`, `CONTACTO`, `CORREOCONTACTO`, `CELULARCONTACTO`, `ESTADO`) VALUES
('4512', 'HP Bolivia', 'Esteban Arce', '68555656', 'Enrique Gomez', 'egomez@hp.bo', '68854586', 0),
('F1F1F1', 'Juan', 'av oquendo/uruguay', '12345678', 'Juan', 'juan@gmail.com', '12345678', 1),
('F1F1F2', 'SAMSUNG BOLIVIA', 'Esteban arce', '76672524', 'Ramiro Perez Maldonado', 'rapemal@samsung.bo', '78584625', 1),
('F1F2F3', 'DATA RECOVERY', 'Esteban Arce', '67798656', 'Juan Daniel Romero', 'juandanielromero@gmail.com', '64458565', 1);

-- --------------------------------------------------------

--
-- Table structure for table `repuestos`
--

CREATE TABLE `repuestos` (
  `CODREPUESTO` int(11) NOT NULL,
  `NOMREPUESTO` varchar(50) NOT NULL,
  `DETALLEREPUESTO` varchar(200) DEFAULT NULL,
  `FECHA` date NOT NULL,
  `MARCA` varchar(50) NOT NULL,
  `MODELO` varchar(50) NOT NULL,
  `CANTIDAD` int(11) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `FHREGSERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CODTIPOREPUESTO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `repuestos`
--

INSERT INTO `repuestos` (`CODREPUESTO`, `NOMREPUESTO`, `DETALLEREPUESTO`, `FECHA`, `MARCA`, `MODELO`, `CANTIDAD`, `ESTADO`, `FHREGSERV`, `CODTIPOREPUESTO`) VALUES
(1, 'Fuente de poder', 'fuente directa', '2022-02-02', 'delfi', 'rg50', 1, 1, '2023-01-04 21:29:54', 1),
(2, 'MEMORIA RAM DELL', '45', '2022-12-12', 'DELL1', 'RX-500', 4, 1, '2023-01-04 21:29:59', 1),
(3, 'Disco duro', '45', '2022-12-12', 'samsung', 'RX-5001785', 2, 0, '2023-01-04 21:30:04', 1),
(4, 'Disco solido', NULL, '2022-12-12', 'samsung', 'm2', 4, 1, '2023-01-04 21:30:08', 1),
(5, 'Disco solido', 's2', '2022-12-12', 'samsung', 'm1', 2, 1, '2023-01-04 21:30:11', 2),
(6, 'Tarjeta de Video', NULL, '2022-10-10', 'NVIDIA', 'GTX-1080', 2, 1, '2023-01-07 00:07:11', 1),
(8, 'Monitor', 'curvo 72 pulgadas', '2023-01-01', 'samsung', 'LDF5544', 5, 1, '2023-01-07 00:08:51', 2);

-- --------------------------------------------------------

--
-- Table structure for table `sesion`
--

CREATE TABLE `sesion` (
  `NOMREUSUARIO` varchar(15) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Table structure for table `subtareas`
--

CREATE TABLE `subtareas` (
  `CODSUBTAREA` int(11) NOT NULL,
  `CODTAREA` int(11) NOT NULL,
  `NOMSUBTAREA` varchar(100) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `subtareas`
--

INSERT INTO `subtareas` (`CODSUBTAREA`, `CODTAREA`, `NOMSUBTAREA`, `ESTADO`) VALUES
(1, 1, 'Quitar case', 1),
(2, 1, 'Quitar memoria ram', 1);

-- --------------------------------------------------------

--
-- Table structure for table `tareas`
--

CREATE TABLE `tareas` (
  `CODTAREA` int(11) NOT NULL,
  `NOMTAREA` varchar(100) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `CODCATALOGO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `tareas`
--

INSERT INTO `tareas` (`CODTAREA`, `NOMTAREA`, `ESTADO`, `CODCATALOGO`) VALUES
(1, 'Monitoreo', 0, 3),
(2, 'Mantenimiento de software', 1, 4),
(3, 'monitorear', 1, 4);

-- --------------------------------------------------------

--
-- Table structure for table `tecnicos`
--

CREATE TABLE `tecnicos` (
  `CODTECNICO` int(11) NOT NULL,
  `CODASIGCARGOPER` int(11) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `FHREGSERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CODCENTRO` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `tecnicos`
--

INSERT INTO `tecnicos` (`CODTECNICO`, `CODASIGCARGOPER`, `ESTADO`, `FHREGSERV`, `CODCENTRO`) VALUES
(17, 1, 1, '2023-06-13 21:10:02', 1),
(18, 1, 1, '2023-06-15 20:21:37', 2);

-- --------------------------------------------------------

--
-- Table structure for table `tiporepuesto`
--

CREATE TABLE `tiporepuesto` (
  `CODTIPOREPUESTO` int(11) NOT NULL,
  `NOMTIPOREPUESTO` varchar(50) NOT NULL,
  `ESTADO` tinyint(1) NOT NULL,
  `DESCRIPCION` varchar(150) DEFAULT NULL,
  `FHREGSERV` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `tiporepuesto`
--

INSERT INTO `tiporepuesto` (`CODTIPOREPUESTO`, `NOMTIPOREPUESTO`, `ESTADO`, `DESCRIPCION`, `FHREGSERV`) VALUES
(1, 'Almacenamiento', 1, NULL, '2023-01-04 21:31:24'),
(2, 'Fuente de poder', 1, NULL, '2023-01-04 21:31:24');

-- --------------------------------------------------------

--
-- Table structure for table `usuario`
--

CREATE TABLE `usuario` (
  `COD_USUARIO` int(11) NOT NULL,
  `CI` varchar(20) DEFAULT NULL,
  `CODASIGNACION` int(11) DEFAULT NULL,
  `CONTRASENA` varchar(50) DEFAULT NULL,
  `ESTADO` tinyint(1) DEFAULT NULL,
  `NOMBREUSUARIO` varchar(50) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Activo_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Activo_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Activo_view`  AS SELECT `procedencia`.`CODPROCEDENCIA` AS `CODPROCEDENCIA`, `procedencia`.`PROCEDENCIA` AS `PROCEDENCIA`, `cuatro`.`CODACTIVO` AS `CODACTIVO`, `cuatro`.`FOTOGRAFIA` AS `FOTOGRAFIA`, `cuatro`.`ANIOFABRICACION` AS `ANIOFABRICACION`, `cuatro`.`ESTADOACTIVO` AS `ESTADOACTIVO`, `cuatro`.`CODMODELO` AS `CODMODELO`, `cuatro`.`MODELO` AS `MODELO`, `cuatro`.`CODMARCA` AS `CODMARCA`, `cuatro`.`MARCA` AS `MARCA`, `cuatro`.`CODCLASE` AS `CODCLASE`, `cuatro`.`CLASE` AS `CLASE` FROM ((select `activo`.`CODPROCEDENCIA` AS `CODPROCEDENCIA`,`activo`.`CODACTIVO` AS `CODACTIVO`,`activo`.`FOTOGRAFIA` AS `FOTOGRAFIA`,`activo`.`ANIOFABRICACION` AS `ANIOFABRICACION`,`activo`.`ESTADOACTIVO` AS `ESTADOACTIVO`,`tres`.`CODMODELO` AS `CODMODELO`,`tres`.`MODELO` AS `MODELO`,`tres`.`CODMARCA` AS `CODMARCA`,`tres`.`MARCA` AS `MARCA`,`tres`.`CODCLASE` AS `CODCLASE`,`tres`.`CLASE` AS `CLASE` from ((select `modelo`.`CODMODELO` AS `CODMODELO`,`modelo`.`MODELO` AS `MODELO`,`dos`.`CODMARCA` AS `CODMARCA`,`dos`.`MARCA` AS `MARCA`,`dos`.`CODCLASE` AS `CODCLASE`,`dos`.`CLASE` AS `CLASE` from ((select `marca`.`CODMARCA` AS `CODMARCA`,`marca`.`MARCA` AS `MARCA`,`uno`.`CODCLASE` AS `CODCLASE`,`uno`.`CLASE` AS `CLASE` from ((select `claseactivo`.`CODCLASE` AS `CODCLASE`,`claseactivo`.`CLASE` AS `CLASE` from `claseactivo`) `uno` join `marca`) where (`marca`.`CODCLASE` = `uno`.`CODCLASE`)) `dos` join `modelo`) where (`modelo`.`CODMARCA` = `dos`.`CODMARCA`)) `tres` join `activo`) where (`activo`.`CODMODELO` = `tres`.`CODMODELO`)) `cuatro` join `procedencia`) WHERE (`procedencia`.`CODPROCEDENCIA` = `cuatro`.`CODPROCEDENCIA`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_AsigCargoPersonalAll_view`
--
DROP TABLE IF EXISTS `DB_VIEW_AsigCargoPersonalAll_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_AsigCargoPersonalAll_view`  AS SELECT `asigcargopersonal`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`, `asigcargopersonal`.`CODCARGODEP` AS `CODCARGODEP`, `asigcargopersonal`.`CODPERSONAL` AS `CODPERSONAL`, `asigcargopersonal`.`FECHAASIGNACION` AS `FECHAASIGNACION`, `asigcargopersonal`.`FECHACONCLUCION` AS `FECHACONCLUCION`, `asigcargopersonal`.`ESTADO` AS `ESTADO`, `asigcargopersonal`.`MEMODESIGNACION` AS `MEMODESIGNACION` FROM `asigcargopersonal``asigcargopersonal`  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_AsigCargoPersonal_view`
--
DROP TABLE IF EXISTS `DB_VIEW_AsigCargoPersonal_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_AsigCargoPersonal_view`  AS SELECT `asigcargopersonal`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`, `asigcargopersonal`.`CODCARGODEP` AS `CODCARGODEP`, `asigcargopersonal`.`CODPERSONAL` AS `CODPERSONAL`, `asigcargopersonal`.`FECHAASIGNACION` AS `FECHAASIGNACION`, `asigcargopersonal`.`FECHACONCLUCION` AS `FECHACONCLUCION`, `asigcargopersonal`.`ESTADO` AS `ESTADO`, `asigcargopersonal`.`MEMODESIGNACION` AS `MEMODESIGNACION`, `asigcargopersonal`.`FHREGSERV` AS `FHREGSERV` FROM `asigcargopersonal` WHERE (`asigcargopersonal`.`ESTADO` = 1)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_CargoAlll_view`
--
DROP TABLE IF EXISTS `DB_VIEW_CargoAlll_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_CargoAlll_view`  AS SELECT `cargo`.`CODCARGO` AS `CODCARGO`, `cargo`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`, `cargo`.`CARGO` AS `CARGO`, `cargo`.`ESTADO` AS `ESTADO` FROM `cargo``cargo`  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Cargo_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Cargo_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Cargo_view`  AS SELECT `cargo`.`CODCARGO` AS `CODCARGO`, `cargo`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`, `cargo`.`CARGO` AS `CARGO`, `cargo`.`ESTADO` AS `ESTADO` FROM `cargo` WHERE (`cargo`.`ESTADO` = 1)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_CatalogoAll_view`
--
DROP TABLE IF EXISTS `DB_VIEW_CatalogoAll_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_CatalogoAll_view`  AS SELECT `claseactivo`.`CODCLASE` AS `CODCLASE`, `claseactivo`.`CLASE` AS `CLASE`, `uno`.`CODCATALOGO` AS `CODCATALOGO`, `uno`.`NOMCATALOGO` AS `NOMCATALOGO`, `uno`.`ESTADO` AS `ESTADO` FROM ((select `catalogo`.`CODCATALOGO` AS `CODCATALOGO`,`catalogo`.`CODCLASE` AS `CODCLASE`,`catalogo`.`NOMCATALOGO` AS `NOMCATALOGO`,`catalogo`.`ESTADO` AS `ESTADO` from `catalogo`) `uno` join `claseactivo`) WHERE (`claseactivo`.`CODCLASE` = `uno`.`CODCLASE`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Centromantenimiento_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Centromantenimiento_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Centromantenimiento_view`  AS SELECT `centromantenimiento`.`CODCENTRO` AS `CODCENTRO`, `centromantenimiento`.`CENTROMANTENIMIENTO` AS `CENTROMANTENIMIENTO`, `centromantenimiento`.`ESTADO` AS `ESTADO`, `centromantenimiento`.`DESCRIPCION` AS `DESCRIPCION` FROM `centromantenimiento` ORDER BY `centromantenimiento`.`CENTROMANTENIMIENTO` ASC  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_ClaseactivoMarca_view`
--
DROP TABLE IF EXISTS `DB_VIEW_ClaseactivoMarca_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_ClaseactivoMarca_view`  AS SELECT `uno`.`CODCLASE` AS `CODCLASE`, `uno`.`PARTIDA` AS `PARTIDA`, `uno`.`CLASE` AS `CLASE`, `uno`.`DESCRIPCIONCLASE` AS `DESCRIPCIONCLASE`, `marca`.`CODMARCA` AS `CODMARCA`, `marca`.`MARCA` AS `MARCA`, `marca`.`ESTADO` AS `ESTADO` FROM ((select `claseactivo`.`CODCLASE` AS `CODCLASE`,`claseactivo`.`PARTIDA` AS `PARTIDA`,`claseactivo`.`CLASE` AS `CLASE`,`claseactivo`.`DESCRIPCIONCLASE` AS `DESCRIPCIONCLASE` from `claseactivo` where (`claseactivo`.`ESTADO` = '1')) `uno` join `marca`) WHERE ((`marca`.`CODCLASE` = `uno`.`CODCLASE`) AND (`marca`.`ESTADO` = '1'))  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Claseactivo_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Claseactivo_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Claseactivo_view`  AS SELECT `claseactivo`.`CODCLASE` AS `CODCLASE`, `claseactivo`.`PARTIDA` AS `PARTIDA`, `claseactivo`.`CLASE` AS `CLASE`, `claseactivo`.`DESCRIPCIONCLASE` AS `DESCRIPCIONCLASE`, `claseactivo`.`ESTADO` AS `ESTADO` FROM `claseactivo` WHERE (`claseactivo`.`ESTADO` = '1')  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_DepartamentosAll_view`
--
DROP TABLE IF EXISTS `DB_VIEW_DepartamentosAll_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_DepartamentosAll_view`  AS SELECT `departamentos`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`, `departamentos`.`NOMBDEPARTAMENTO` AS `NOMBDEPARTAMENTO`, `departamentos`.`DESCRIPCION` AS `DESCRIPCION`, `departamentos`.`ESTADO` AS `ESTADO` FROM `departamentos``departamentos`  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Departamentos_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Departamentos_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Departamentos_view`  AS SELECT `departamentos`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`, `departamentos`.`NOMBDEPARTAMENTO` AS `NOMBDEPARTAMENTO`, `departamentos`.`DESCRIPCION` AS `DESCRIPCION`, `departamentos`.`ESTADO` AS `ESTADO` FROM `departamentos` WHERE (`departamentos`.`ESTADO` = 1)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Item_Available_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Item_Available_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Item_Available_view`  AS SELECT `item`.`CODITEM` AS `CODITEM` FROM `item` WHERE (not(exists(select `p`.`CODPERSONAL`,`p`.`CODITEM`,`p`.`CI`,`p`.`FECHAASIGNACION`,`p`.`FECHADESASIGNACION`,`p`.`ESTADO` from `personal` `p` where (`p`.`CODITEM` = `item`.`CODITEM`))))  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Item_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Item_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Item_view`  AS SELECT `item`.`CODITEM` AS `CODITEM`, `item`.`ESTADO` AS `ESTADO` FROM `item` WHERE (`item`.`ESTADO` = '1')  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Ordentrabajo_ResponsableActivo_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Ordentrabajo_ResponsableActivo_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Ordentrabajo_ResponsableActivo_view`  AS SELECT `cinco`.`NOMBRES` AS `NOMBRES`, `cinco`.`APPATERNO` AS `APPATERNO`, `cinco`.`APMATERNO` AS `APMATERNO`, `cinco`.`CARGO` AS `CARGO`, `cinco`.`CODASIGCARGOPER` AS `CODASIGCARGOPER` FROM ((select `asignacionactivo`.`CODASIGACTIVO` AS `CODASIGACTIVO`,`asignacionactivo`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`asignacionactivo`.`CODACTIVO` AS `CODACTIVO`,`cuatro`.`CARGO` AS `CARGO`,`cuatro`.`CODCARGODEP` AS `CODCARGODEP`,`cuatro`.`CODPERSONAL` AS `CODPERSONAL`,`cuatro`.`CI` AS `CI`,`cuatro`.`NOMBRES` AS `NOMBRES`,`cuatro`.`APPATERNO` AS `APPATERNO`,`cuatro`.`APMATERNO` AS `APMATERNO` from ((select `cargo`.`CARGO` AS `CARGO`,`tres`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`tres`.`CODCARGODEP` AS `CODCARGODEP`,`tres`.`CODPERSONAL` AS `CODPERSONAL`,`tres`.`CI` AS `CI`,`tres`.`NOMBRES` AS `NOMBRES`,`tres`.`APPATERNO` AS `APPATERNO`,`tres`.`APMATERNO` AS `APMATERNO` from ((select `asigcargopersonal`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`asigcargopersonal`.`CODCARGODEP` AS `CODCARGODEP`,`dos`.`CODPERSONAL` AS `CODPERSONAL`,`dos`.`CI` AS `CI`,`dos`.`NOMBRES` AS `NOMBRES`,`dos`.`APPATERNO` AS `APPATERNO`,`dos`.`APMATERNO` AS `APMATERNO` from ((select `personal`.`CODPERSONAL` AS `CODPERSONAL`,`personal`.`CI` AS `CI`,`uno`.`NOMBRES` AS `NOMBRES`,`uno`.`APPATERNO` AS `APPATERNO`,`uno`.`APMATERNO` AS `APMATERNO` from ((select `persona`.`CI` AS `CI`,`persona`.`NOMBRES` AS `NOMBRES`,`persona`.`APPATERNO` AS `APPATERNO`,`persona`.`APMATERNO` AS `APMATERNO` from `persona`) `uno` join `personal`) where (`personal`.`CI` = `uno`.`CI`)) `dos` join `asigcargopersonal`) where (`asigcargopersonal`.`CODPERSONAL` = `dos`.`CODPERSONAL`)) `tres` join `cargo`) where (`cargo`.`CODCARGO` = `tres`.`CODCARGODEP`)) `cuatro` join `asignacionactivo`) where (`asignacionactivo`.`CODASIGCARGOPER` = `cuatro`.`CODASIGCARGOPER`)) `cinco` join `activo`) WHERE (`activo`.`CODACTIVO` = `cinco`.`CODACTIVO`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Ordentrabajo_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Ordentrabajo_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Ordentrabajo_view`  AS SELECT `siete`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`, `siete`.`FECHAORDEN` AS `FECHAORDEN`, `siete`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`, `siete`.`NOMBDEPARTAMENTO` AS `NOMBDEPARTAMENTO`, `siete`.`CI` AS `CI`, `siete`.`NOMBRES` AS `NOMBRES`, `siete`.`APPATERNO` AS `APPATERNO`, `siete`.`APMATERNO` AS `APMATERNO`, `siete`.`CARGO` AS `CARGO`, `activo`.`CODACTIVO` AS `CODACTIVO`, `activo`.`DESCRIPCION` AS `DESCRIPCION`, `siete`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS` FROM ((select `persona`.`CI` AS `CI`,`persona`.`NOMBRES` AS `NOMBRES`,`persona`.`APPATERNO` AS `APPATERNO`,`persona`.`APMATERNO` AS `APMATERNO`,`seis`.`CODPERSONAL` AS `CODPERSONAL`,`seis`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`,`seis`.`NOMBDEPARTAMENTO` AS `NOMBDEPARTAMENTO`,`seis`.`CODCARGO` AS `CODCARGO`,`seis`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`seis`.`CODCARGODEP` AS `CODCARGODEP`,`seis`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`seis`.`FECHAORDEN` AS `FECHAORDEN`,`seis`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`seis`.`ESTADO` AS `ESTADO`,`seis`.`CODACTIVO` AS `CODACTIVO`,`seis`.`CARGO` AS `CARGO` from ((select `personal`.`CODPERSONAL` AS `CODPERSONAL`,`personal`.`CI` AS `CI`,`cinco`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`,`cinco`.`NOMBDEPARTAMENTO` AS `NOMBDEPARTAMENTO`,`cinco`.`CODCARGO` AS `CODCARGO`,`cinco`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`cinco`.`CODCARGODEP` AS `CODCARGODEP`,`cinco`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`cinco`.`FECHAORDEN` AS `FECHAORDEN`,`cinco`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`cinco`.`ESTADO` AS `ESTADO`,`cinco`.`CODACTIVO` AS `CODACTIVO`,`cinco`.`CARGO` AS `CARGO` from ((select `departamentos`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`,`departamentos`.`NOMBDEPARTAMENTO` AS `NOMBDEPARTAMENTO`,`cuatro`.`CODCARGO` AS `CODCARGO`,`cuatro`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`cuatro`.`CODPERSONAL` AS `CODPERSONAL`,`cuatro`.`CODCARGODEP` AS `CODCARGODEP`,`cuatro`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`cuatro`.`FECHAORDEN` AS `FECHAORDEN`,`cuatro`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`cuatro`.`ESTADO` AS `ESTADO`,`cuatro`.`CODACTIVO` AS `CODACTIVO`,`cuatro`.`CARGO` AS `CARGO` from ((select `cargo`.`CODCARGO` AS `CODCARGO`,`cargo`.`CARGO` AS `CARGO`,`cargo`.`CODDEPARTAMENTO` AS `CODDEPARTAMENTO`,`tres`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`tres`.`CODPERSONAL` AS `CODPERSONAL`,`tres`.`CODCARGODEP` AS `CODCARGODEP`,`tres`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`tres`.`FECHAORDEN` AS `FECHAORDEN`,`tres`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`tres`.`ESTADO` AS `ESTADO`,`tres`.`CODACTIVO` AS `CODACTIVO` from ((select `asigcargopersonal`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`asigcargopersonal`.`CODPERSONAL` AS `CODPERSONAL`,`asigcargopersonal`.`CODCARGODEP` AS `CODCARGODEP`,`dos`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`dos`.`FECHAORDEN` AS `FECHAORDEN`,`dos`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`dos`.`ESTADO` AS `ESTADO`,`dos`.`CODACTIVO` AS `CODACTIVO` from ((select `asignacionactivo`.`CODASIGACTIVO` AS `CODASIGACTIVO`,`asignacionactivo`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`uno`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`uno`.`FECHAORDEN` AS `FECHAORDEN`,`uno`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`uno`.`ESTADO` AS `ESTADO`,`asignacionactivo`.`CODACTIVO` AS `CODACTIVO` from ((select `ordentrabajo`.`CODORDENTRABAJO` AS `CODORDENTRABAJO`,`ordentrabajo`.`CODASIGACTIVO` AS `CODASIGACTIVO`,`ordentrabajo`.`FECHAORDEN` AS `FECHAORDEN`,`ordentrabajo`.`DESCRIPSINTOMAS` AS `DESCRIPSINTOMAS`,`ordentrabajo`.`ESTADO` AS `ESTADO` from `ordentrabajo` where (`ordentrabajo`.`ESTADO` = 0)) `uno` join `asignacionactivo`) where (`asignacionactivo`.`CODASIGACTIVO` = `uno`.`CODASIGACTIVO`)) `dos` join `asigcargopersonal`) where (`asigcargopersonal`.`CODASIGCARGOPER` = `dos`.`CODASIGCARGOPER`)) `tres` join `cargo`) where (`cargo`.`CODCARGO` = `tres`.`CODCARGODEP`)) `cuatro` join `departamentos`) where (`departamentos`.`CODDEPARTAMENTO` = `cuatro`.`CODDEPARTAMENTO`)) `cinco` join `personal`) where (`personal`.`CODPERSONAL` = `cinco`.`CODPERSONAL`)) `seis` join `persona`) where (`persona`.`CI` = `seis`.`CI`)) `siete` join `activo`) WHERE (`activo`.`CODACTIVO` = `siete`.`CODACTIVO`) ORDER BY `siete`.`FECHAORDEN` AS `DESCdesc` ASC  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_PersonalAll_view`
--
DROP TABLE IF EXISTS `DB_VIEW_PersonalAll_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_PersonalAll_view`  AS SELECT `personal`.`CODPERSONAL` AS `CODPERSONAL`, `personal`.`CODITEM` AS `CODITEM`, `personal`.`CI` AS `CI`, `personal`.`FECHAASIGNACION` AS `FECHAASIGNACION`, `personal`.`FECHADESASIGNACION` AS `FECHADESASIGNACION`, `personal`.`ESTADO` AS `ESTADO` FROM `personal``personal`  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Personal_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Personal_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Personal_view`  AS SELECT `personal`.`CODPERSONAL` AS `CODPERSONAL`, `personal`.`CODITEM` AS `CODITEM`, `personal`.`CI` AS `CI`, `personal`.`FECHAASIGNACION` AS `FECHAASIGNACION`, `personal`.`FECHADESASIGNACION` AS `FECHADESASIGNACION`, `personal`.`ESTADO` AS `ESTADO` FROM `personal` WHERE (`personal`.`ESTADO` = 1)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Persona_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Persona_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Persona_view`  AS SELECT `persona`.`CI` AS `CI`, `persona`.`CODPROFESION` AS `CODPROFESION`, `persona`.`NOMBRES` AS `NOMBRES`, `persona`.`APPATERNO` AS `APPATERNO`, `persona`.`APMATERNO` AS `APMATERNO`, `persona`.`FECHANACIMIENTO` AS `FECHANACIMIENTO`, `persona`.`DIRECCION` AS `DIRECCION`, `persona`.`TELEFONO` AS `TELEFONO`, `persona`.`CORREO` AS `CORREO`, `persona`.`CELULAR` AS `CELULAR`, `persona`.`SEXO` AS `SEXO`, `persona`.`EXPEDIDOCI` AS `EXPEDIDOCI` FROM `persona``persona`  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Procedencia_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Procedencia_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Procedencia_view`  AS SELECT `procedencia`.`CODPROCEDENCIA` AS `CODPROCEDENCIA`, `procedencia`.`PROCEDENCIA` AS `PROCEDENCIA`, `procedencia`.`ESTADO` AS `ESTADO` FROM `procedencia` WHERE (`procedencia`.`ESTADO` = '1')  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Profesion_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Profesion_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Profesion_view`  AS SELECT `profesion`.`CODPROFESION` AS `CODPROFESION`, `profesion`.`PROFESION` AS `PROFESION`, `profesion`.`ESTADO` AS `ESTADO`, `profesion`.`GRADOACADEMICO` AS `GRADOACADEMICO`, `profesion`.`ABREVIACION` AS `ABREVIACION` FROM `profesion` WHERE (`profesion`.`ESTADO` = '1')  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Provedor_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Provedor_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Provedor_view`  AS SELECT `proveedor`.`NIT` AS `NIT`, `proveedor`.`NOMPROVEEDOR` AS `NOMPROVEEDOR`, `proveedor`.`DIRECCION` AS `DIRECCION`, `proveedor`.`TELEFONOPROVEEDOR` AS `TELEFONOPROVEEDOR`, `proveedor`.`CONTACTO` AS `CONTACTO`, `proveedor`.`CORREOCONTACTO` AS `CORREOCONTACTO`, `proveedor`.`CELULARCONTACTO` AS `CELULARCONTACTO`, `proveedor`.`ESTADO` AS `ESTADO` FROM `proveedor` ORDER BY `proveedor`.`NOMPROVEEDOR` ASC  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Repuestos_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Repuestos_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Repuestos_view`  AS SELECT `repuestos`.`CODREPUESTO` AS `CODREPUESTO`, `repuestos`.`NOMREPUESTO` AS `NOMREPUESTO`, `repuestos`.`DETALLEREPUESTO` AS `DETALLEREPUESTO`, `repuestos`.`FECHA` AS `FECHA`, `repuestos`.`MARCA` AS `MARCA`, `repuestos`.`MODELO` AS `MODELO`, `repuestos`.`CANTIDAD` AS `CANTIDAD`, `repuestos`.`ESTADO` AS `ESTADO`, `repuestos`.`FHREGSERV` AS `FHREGSERV`, `tiporepuesto`.`CODTIPOREPUESTO` AS `CODTIPOREPUESTO`, `tiporepuesto`.`NOMTIPOREPUESTO` AS `NOMTIPOREPUESTO` FROM (`repuestos` join `tiporepuesto`) WHERE (`tiporepuesto`.`CODTIPOREPUESTO` = `repuestos`.`CODTIPOREPUESTO`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Subtareas_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Subtareas_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Subtareas_view`  AS SELECT `dos`.`CODCATALOGO` AS `CODCATALOGO`, `dos`.`NOMCATALOGO` AS `NOMCATALOGO`, `dos`.`CODTAREA` AS `CODTAREA`, `dos`.`NOMTAREA` AS `NOMTAREA`, `subtareas`.`CODSUBTAREA` AS `CODSUBTAREA`, `subtareas`.`NOMSUBTAREA` AS `NOMSUBTAREA`, `subtareas`.`ESTADO` AS `ESTADO` FROM ((select `tareas`.`CODTAREA` AS `CODTAREA`,`tareas`.`NOMTAREA` AS `NOMTAREA`,`uno`.`CODCATALOGO` AS `CODCATALOGO`,`uno`.`NOMCATALOGO` AS `NOMCATALOGO` from ((select `catalogo`.`CODCATALOGO` AS `CODCATALOGO`,`catalogo`.`NOMCATALOGO` AS `NOMCATALOGO` from `catalogo`) `uno` join `tareas`) where (`tareas`.`CODCATALOGO` = `uno`.`CODCATALOGO`)) `dos` join `subtareas`) WHERE (`subtareas`.`CODTAREA` = `dos`.`CODTAREA`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_TareasSubtareas_view`
--
DROP TABLE IF EXISTS `DB_VIEW_TareasSubtareas_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_TareasSubtareas_view`  AS SELECT `tareas`.`CODTAREA` AS `CODTAREA`, `tareas`.`NOMTAREA` AS `NOMTAREA`, `uno`.`CODSUBTAREA` AS `CODSUBTAREA`, `uno`.`NOMSUBTAREA` AS `NOMSUBTAREA`, `uno`.`ESTADO` AS `ESTADO` FROM ((select `subtareas`.`CODSUBTAREA` AS `CODSUBTAREA`,`subtareas`.`CODTAREA` AS `CODTAREA`,`subtareas`.`NOMSUBTAREA` AS `NOMSUBTAREA`,`subtareas`.`ESTADO` AS `ESTADO` from `subtareas`) `uno` join `tareas`) WHERE (`tareas`.`CODTAREA` = `uno`.`CODTAREA`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Tareas_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Tareas_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Tareas_view`  AS SELECT `uno`.`CODCATALOGO` AS `CODCATALOGO`, `uno`.`NOMCATALOGO` AS `NOMCATALOGO`, `tareas`.`CODTAREA` AS `CODTAREA`, `tareas`.`NOMTAREA` AS `NOMTAREA`, `tareas`.`ESTADO` AS `ESTADO` FROM ((select `catalogo`.`CODCATALOGO` AS `CODCATALOGO`,`catalogo`.`CODCLASE` AS `CODCLASE`,`catalogo`.`NOMCATALOGO` AS `NOMCATALOGO` from `catalogo`) `uno` join `tareas`) WHERE (`tareas`.`CODCATALOGO` = `uno`.`CODCATALOGO`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_TecnicosDelCentro_view`
--
DROP TABLE IF EXISTS `DB_VIEW_TecnicosDelCentro_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_TecnicosDelCentro_view`  AS SELECT `persona`.`NOMBRES` AS `NOMBRES`, `persona`.`APPATERNO` AS `APPATERNO`, `persona`.`APMATERNO` AS `APMATERNO`, `cuatro`.`CI` AS `CI`, `cuatro`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`, `cuatro`.`CODPERSONAL` AS `CODPERSONAL`, `cuatro`.`CODTECNICO` AS `CODTECNICO`, `cuatro`.`CODCENTRO` AS `CODCENTRO`, `cuatro`.`CENTROMANTENIMIENTO` AS `CENTROMANTENIMIENTO`, `cuatro`.`DESCRIPCION` AS `DESCRIPCION` FROM ((select `personal`.`CI` AS `CI`,`tres`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`tres`.`CODPERSONAL` AS `CODPERSONAL`,`tres`.`CODTECNICO` AS `CODTECNICO`,`tres`.`CODCENTRO` AS `CODCENTRO`,`tres`.`CENTROMANTENIMIENTO` AS `CENTROMANTENIMIENTO`,`tres`.`DESCRIPCION` AS `DESCRIPCION` from ((select `asigcargopersonal`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`asigcargopersonal`.`CODPERSONAL` AS `CODPERSONAL`,`dos`.`CODTECNICO` AS `CODTECNICO`,`dos`.`CODCENTRO` AS `CODCENTRO`,`dos`.`CENTROMANTENIMIENTO` AS `CENTROMANTENIMIENTO`,`dos`.`DESCRIPCION` AS `DESCRIPCION` from ((select `tecnicos`.`CODTECNICO` AS `CODTECNICO`,`tecnicos`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`tecnicos`.`CODCENTRO` AS `CODCENTRO`,`uno`.`CENTROMANTENIMIENTO` AS `CENTROMANTENIMIENTO`,`uno`.`DESCRIPCION` AS `DESCRIPCION` from ((select `centromantenimiento`.`CODCENTRO` AS `CODCENTRO`,`centromantenimiento`.`CENTROMANTENIMIENTO` AS `CENTROMANTENIMIENTO`,`centromantenimiento`.`DESCRIPCION` AS `DESCRIPCION` from `centromantenimiento`) `uno` join `tecnicos`) where (`tecnicos`.`CODCENTRO` = `uno`.`CODCENTRO`)) `dos` join `asigcargopersonal`) where (`asigcargopersonal`.`CODASIGCARGOPER` = `dos`.`CODASIGCARGOPER`)) `tres` join `personal`) where (`personal`.`CODPERSONAL` = `tres`.`CODPERSONAL`)) `cuatro` join `persona`) WHERE (`persona`.`CI` = `cuatro`.`CI`) ORDER BY `persona`.`NOMBRES` ASC  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Tecnicos_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Tecnicos_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Tecnicos_view`  AS SELECT `persona`.`CI` AS `CI`, `persona`.`APPATERNO` AS `APPATERNO`, `persona`.`APMATERNO` AS `APMATERNO`, `persona`.`NOMBRES` AS `NOMBRES`, `persona`.`SEXO` AS `SEXO`, `persona`.`CELULAR` AS `CELULAR`, `persona`.`CORREO` AS `CORREO`, `tres`.`CODPERSONAL` AS `CODPERSONAL`, `tres`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`, `tres`.`FECHAASIGNACION` AS `FECHAASIGNACION`, `tres`.`FECHACONCLUCION` AS `FECHACONCLUCION`, `tres`.`CODTECNICO` AS `CODTECNICO`, `tres`.`ESTADO` AS `ESTADO` FROM ((select `personal`.`CI` AS `CI`,`dos`.`CODPERSONAL` AS `CODPERSONAL`,`dos`.`FECHAASIGNACION` AS `FECHAASIGNACION`,`dos`.`FECHACONCLUCION` AS `FECHACONCLUCION`,`dos`.`CODTECNICO` AS `CODTECNICO`,`dos`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`dos`.`ESTADO` AS `ESTADO` from ((select `asigcargopersonal`.`CODPERSONAL` AS `CODPERSONAL`,`asigcargopersonal`.`FECHAASIGNACION` AS `FECHAASIGNACION`,`asigcargopersonal`.`FECHACONCLUCION` AS `FECHACONCLUCION`,`uno`.`CODTECNICO` AS `CODTECNICO`,`uno`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`uno`.`ESTADO` AS `ESTADO` from ((select `tecnicos`.`CODTECNICO` AS `CODTECNICO`,`tecnicos`.`CODASIGCARGOPER` AS `CODASIGCARGOPER`,`tecnicos`.`ESTADO` AS `ESTADO` from `tecnicos`) `uno` join `asigcargopersonal`) where (`asigcargopersonal`.`CODASIGCARGOPER` = `uno`.`CODASIGCARGOPER`)) `dos` join `personal`) where (`personal`.`CODPERSONAL` = `dos`.`CODPERSONAL`)) `tres` join `persona`) WHERE (`persona`.`CI` = `tres`.`CI`)  ;

-- --------------------------------------------------------

--
-- Structure for view `DB_VIEW_Tiporepuesto_view`
--
DROP TABLE IF EXISTS `DB_VIEW_Tiporepuesto_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `DB_VIEW_Tiporepuesto_view`  AS SELECT `tiporepuesto`.`CODTIPOREPUESTO` AS `CODTIPOREPUESTO`, `tiporepuesto`.`NOMTIPOREPUESTO` AS `NOMTIPOREPUESTO` FROM `tiporepuesto` WHERE (`tiporepuesto`.`ESTADO` = 1)  ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `activo`
--
ALTER TABLE `activo`
  ADD PRIMARY KEY (`CODACTIVO`),
  ADD KEY `fk_activo_modelo` (`CODMODELO`),
  ADD KEY `fk_activo_procedencia` (`CODPROCEDENCIA`),
  ADD KEY `fk_activo_provedor` (`NITPROVEEDOR`);

--
-- Indexes for table `asigcargopersonal`
--
ALTER TABLE `asigcargopersonal`
  ADD PRIMARY KEY (`CODASIGCARGOPER`),
  ADD KEY `CODCARGODEP` (`CODCARGODEP`),
  ADD KEY `fk_asigcargopersonal_personal` (`CODPERSONAL`);

--
-- Indexes for table `asignacionactivo`
--
ALTER TABLE `asignacionactivo`
  ADD PRIMARY KEY (`CODASIGACTIVO`),
  ADD KEY `CODASIGCARGOPER` (`CODASIGCARGOPER`),
  ADD KEY `fk_asignacionactivo_activo` (`CODACTIVO`);

--
-- Indexes for table `asignacionrepuesto`
--
ALTER TABLE `asignacionrepuesto`
  ADD PRIMARY KEY (`CODASIGBNACION`),
  ADD KEY `fk_asignacionrepuesto_repuesto` (`CODREPUESTO`),
  ADD KEY `fk_asignacionrepuesto_detalle` (`CODDETALLE`);

--
-- Indexes for table `cargo`
--
ALTER TABLE `cargo`
  ADD PRIMARY KEY (`CODCARGO`),
  ADD KEY `fk_cargo_departamento` (`CODDEPARTAMENTO`);

--
-- Indexes for table `catalogo`
--
ALTER TABLE `catalogo`
  ADD PRIMARY KEY (`CODCATALOGO`),
  ADD KEY `fk_catalogo_claseactivo` (`CODCLASE`);

--
-- Indexes for table `centromantenimiento`
--
ALTER TABLE `centromantenimiento`
  ADD PRIMARY KEY (`CODCENTRO`);

--
-- Indexes for table `claseactivo`
--
ALTER TABLE `claseactivo`
  ADD PRIMARY KEY (`CODCLASE`);

--
-- Indexes for table `cronogramapreventivo`
--
ALTER TABLE `cronogramapreventivo`
  ADD PRIMARY KEY (`CODCRONOGRAMA`),
  ADD KEY `fk_cronograma_activo` (`CODACTIVO`);

--
-- Indexes for table `departamentos`
--
ALTER TABLE `departamentos`
  ADD PRIMARY KEY (`CODDEPARTAMENTO`);

--
-- Indexes for table `detallecronograma`
--
ALTER TABLE `detallecronograma`
  ADD PRIMARY KEY (`CODDETALLE`),
  ADD KEY `fk_detalle_tareas` (`CODTAREA`),
  ADD KEY `fk_detalle_cronogram` (`CODCRONOGRAMA`);

--
-- Indexes for table `detallemantenimiento`
--
ALTER TABLE `detallemantenimiento`
  ADD PRIMARY KEY (`CODDETALLE`),
  ADD KEY `fk_detallemantenimiento_tarea` (`CODTAREA`),
  ADD KEY `fk_detallemantenimiento_mantenimiento` (`CODMANTENIMIENTO`);

--
-- Indexes for table `History`
--
ALTER TABLE `History`
  ADD PRIMARY KEY (`idHistory`);

--
-- Indexes for table `informe`
--
ALTER TABLE `informe`
  ADD PRIMARY KEY (`CODINFORME`);

--
-- Indexes for table `item`
--
ALTER TABLE `item`
  ADD PRIMARY KEY (`CODITEM`);

--
-- Indexes for table `mantenimiento`
--
ALTER TABLE `mantenimiento`
  ADD PRIMARY KEY (`CODMANTENIMIENTO`),
  ADD KEY `fk_mantenimiento_informe` (`CODINFORME`),
  ADD KEY `fk_mantenimiento_ordentrajabo` (`CODORDENTRABAJO`);

--
-- Indexes for table `marca`
--
ALTER TABLE `marca`
  ADD PRIMARY KEY (`CODMARCA`),
  ADD KEY `fk_marca_claseactivo` (`CODCLASE`);

--
-- Indexes for table `modelo`
--
ALTER TABLE `modelo`
  ADD PRIMARY KEY (`CODMODELO`),
  ADD KEY `fk_modelo_marca` (`CODMARCA`);

--
-- Indexes for table `ordentrabajo`
--
ALTER TABLE `ordentrabajo`
  ADD PRIMARY KEY (`CODORDENTRABAJO`),
  ADD KEY `fk_ordentrabajo_asignacionactivo` (`CODASIGACTIVO`);

--
-- Indexes for table `persona`
--
ALTER TABLE `persona`
  ADD PRIMARY KEY (`CI`),
  ADD KEY `fk_persona_profesor` (`CODPROFESION`);

--
-- Indexes for table `personal`
--
ALTER TABLE `personal`
  ADD PRIMARY KEY (`CODPERSONAL`),
  ADD KEY `fk_personal_persona` (`CI`),
  ADD KEY `fk_personal_item` (`CODITEM`);

--
-- Indexes for table `procedencia`
--
ALTER TABLE `procedencia`
  ADD PRIMARY KEY (`CODPROCEDENCIA`);

--
-- Indexes for table `profesion`
--
ALTER TABLE `profesion`
  ADD PRIMARY KEY (`CODPROFESION`);

--
-- Indexes for table `proveedor`
--
ALTER TABLE `proveedor`
  ADD PRIMARY KEY (`NIT`);

--
-- Indexes for table `repuestos`
--
ALTER TABLE `repuestos`
  ADD PRIMARY KEY (`CODREPUESTO`),
  ADD KEY `fk_codtiporepuesto` (`CODTIPOREPUESTO`);

--
-- Indexes for table `subtareas`
--
ALTER TABLE `subtareas`
  ADD PRIMARY KEY (`CODSUBTAREA`),
  ADD KEY `fk_subtareas_tareas` (`CODTAREA`);

--
-- Indexes for table `tareas`
--
ALTER TABLE `tareas`
  ADD PRIMARY KEY (`CODTAREA`),
  ADD KEY `k_tarea_subtarea` (`CODCATALOGO`);

--
-- Indexes for table `tecnicos`
--
ALTER TABLE `tecnicos`
  ADD PRIMARY KEY (`CODTECNICO`),
  ADD KEY `fk_centrotecnico` (`CODCENTRO`),
  ADD KEY `fk_tecnicos_asigcargoper` (`CODASIGCARGOPER`);

--
-- Indexes for table `tiporepuesto`
--
ALTER TABLE `tiporepuesto`
  ADD PRIMARY KEY (`CODTIPOREPUESTO`);

--
-- Indexes for table `usuario`
--
ALTER TABLE `usuario`
  ADD PRIMARY KEY (`COD_USUARIO`) USING BTREE;

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `activo`
--
ALTER TABLE `activo`
  MODIFY `CODACTIVO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `asigcargopersonal`
--
ALTER TABLE `asigcargopersonal`
  MODIFY `CODASIGCARGOPER` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=29;

--
-- AUTO_INCREMENT for table `asignacionactivo`
--
ALTER TABLE `asignacionactivo`
  MODIFY `CODASIGACTIVO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `asignacionrepuesto`
--
ALTER TABLE `asignacionrepuesto`
  MODIFY `CODASIGBNACION` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `cargo`
--
ALTER TABLE `cargo`
  MODIFY `CODCARGO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT for table `catalogo`
--
ALTER TABLE `catalogo`
  MODIFY `CODCATALOGO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=10;

--
-- AUTO_INCREMENT for table `centromantenimiento`
--
ALTER TABLE `centromantenimiento`
  MODIFY `CODCENTRO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `claseactivo`
--
ALTER TABLE `claseactivo`
  MODIFY `CODCLASE` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT for table `cronogramapreventivo`
--
ALTER TABLE `cronogramapreventivo`
  MODIFY `CODCRONOGRAMA` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `departamentos`
--
ALTER TABLE `departamentos`
  MODIFY `CODDEPARTAMENTO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=75;

--
-- AUTO_INCREMENT for table `detallecronograma`
--
ALTER TABLE `detallecronograma`
  MODIFY `CODDETALLE` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `detallemantenimiento`
--
ALTER TABLE `detallemantenimiento`
  MODIFY `CODDETALLE` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `History`
--
ALTER TABLE `History`
  MODIFY `idHistory` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=41;

--
-- AUTO_INCREMENT for table `informe`
--
ALTER TABLE `informe`
  MODIFY `CODINFORME` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `mantenimiento`
--
ALTER TABLE `mantenimiento`
  MODIFY `CODMANTENIMIENTO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `marca`
--
ALTER TABLE `marca`
  MODIFY `CODMARCA` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT for table `modelo`
--
ALTER TABLE `modelo`
  MODIFY `CODMODELO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `ordentrabajo`
--
ALTER TABLE `ordentrabajo`
  MODIFY `CODORDENTRABAJO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `personal`
--
ALTER TABLE `personal`
  MODIFY `CODPERSONAL` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;

--
-- AUTO_INCREMENT for table `procedencia`
--
ALTER TABLE `procedencia`
  MODIFY `CODPROCEDENCIA` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `profesion`
--
ALTER TABLE `profesion`
  MODIFY `CODPROFESION` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

--
-- AUTO_INCREMENT for table `repuestos`
--
ALTER TABLE `repuestos`
  MODIFY `CODREPUESTO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `subtareas`
--
ALTER TABLE `subtareas`
  MODIFY `CODSUBTAREA` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `tareas`
--
ALTER TABLE `tareas`
  MODIFY `CODTAREA` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT for table `tecnicos`
--
ALTER TABLE `tecnicos`
  MODIFY `CODTECNICO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;

--
-- AUTO_INCREMENT for table `tiporepuesto`
--
ALTER TABLE `tiporepuesto`
  MODIFY `CODTIPOREPUESTO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `usuario`
--
ALTER TABLE `usuario`
  MODIFY `COD_USUARIO` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `activo`
--
ALTER TABLE `activo`
  ADD CONSTRAINT `fk_activo_modelo` FOREIGN KEY (`CODMODELO`) REFERENCES `modelo` (`CODMODELO`),
  ADD CONSTRAINT `fk_activo_procedencia` FOREIGN KEY (`CODPROCEDENCIA`) REFERENCES `procedencia` (`CODPROCEDENCIA`),
  ADD CONSTRAINT `fk_activo_provedor` FOREIGN KEY (`NITPROVEEDOR`) REFERENCES `proveedor` (`NIT`);

--
-- Constraints for table `asigcargopersonal`
--
ALTER TABLE `asigcargopersonal`
  ADD CONSTRAINT `fk_asigcargopersonal_personal` FOREIGN KEY (`CODPERSONAL`) REFERENCES `personal` (`CODPERSONAL`),
  ADD CONSTRAINT `fk_cargo_asigcargopers` FOREIGN KEY (`CODCARGODEP`) REFERENCES `cargo` (`CODCARGO`);

--
-- Constraints for table `asignacionactivo`
--
ALTER TABLE `asignacionactivo`
  ADD CONSTRAINT `fk_asignacionactivo_activo` FOREIGN KEY (`CODACTIVO`) REFERENCES `activo` (`CODACTIVO`),
  ADD CONSTRAINT `fk_asignacionactivo_asigcargopersonal` FOREIGN KEY (`CODASIGCARGOPER`) REFERENCES `asigcargopersonal` (`CODASIGCARGOPER`);

--
-- Constraints for table `asignacionrepuesto`
--
ALTER TABLE `asignacionrepuesto`
  ADD CONSTRAINT `fk_asignacionrepuesto_detalle` FOREIGN KEY (`CODDETALLE`) REFERENCES `detallemantenimiento` (`CODDETALLE`),
  ADD CONSTRAINT `fk_asignacionrepuesto_repuesto` FOREIGN KEY (`CODREPUESTO`) REFERENCES `repuestos` (`CODREPUESTO`);

--
-- Constraints for table `cargo`
--
ALTER TABLE `cargo`
  ADD CONSTRAINT `fk_cargo_departamento` FOREIGN KEY (`CODDEPARTAMENTO`) REFERENCES `departamentos` (`CODDEPARTAMENTO`);

--
-- Constraints for table `catalogo`
--
ALTER TABLE `catalogo`
  ADD CONSTRAINT `fk_catalogo_claseactivo` FOREIGN KEY (`CODCLASE`) REFERENCES `claseactivo` (`CODCLASE`);

--
-- Constraints for table `cronogramapreventivo`
--
ALTER TABLE `cronogramapreventivo`
  ADD CONSTRAINT `fk_cronograma_activo` FOREIGN KEY (`CODACTIVO`) REFERENCES `activo` (`CODACTIVO`);

--
-- Constraints for table `detallecronograma`
--
ALTER TABLE `detallecronograma`
  ADD CONSTRAINT `fk_detalle_cronogram` FOREIGN KEY (`CODCRONOGRAMA`) REFERENCES `cronogramapreventivo` (`CODCRONOGRAMA`),
  ADD CONSTRAINT `fk_detalle_tareas` FOREIGN KEY (`CODTAREA`) REFERENCES `tareas` (`CODTAREA`);

--
-- Constraints for table `detallemantenimiento`
--
ALTER TABLE `detallemantenimiento`
  ADD CONSTRAINT `fk_detallemantenimiento_mantenimiento` FOREIGN KEY (`CODMANTENIMIENTO`) REFERENCES `mantenimiento` (`CODMANTENIMIENTO`),
  ADD CONSTRAINT `fk_detallemantenimiento_tarea` FOREIGN KEY (`CODTAREA`) REFERENCES `tareas` (`CODTAREA`);

--
-- Constraints for table `mantenimiento`
--
ALTER TABLE `mantenimiento`
  ADD CONSTRAINT `fk_mantenimiento_informe` FOREIGN KEY (`CODINFORME`) REFERENCES `informe` (`CODINFORME`),
  ADD CONSTRAINT `fk_mantenimiento_ordentrajabo` FOREIGN KEY (`CODORDENTRABAJO`) REFERENCES `ordentrabajo` (`CODORDENTRABAJO`);

--
-- Constraints for table `marca`
--
ALTER TABLE `marca`
  ADD CONSTRAINT `fk_marca_claseactivo` FOREIGN KEY (`CODCLASE`) REFERENCES `claseactivo` (`CODCLASE`);

--
-- Constraints for table `modelo`
--
ALTER TABLE `modelo`
  ADD CONSTRAINT `fk_modelo_marca` FOREIGN KEY (`CODMARCA`) REFERENCES `marca` (`CODMARCA`);

--
-- Constraints for table `ordentrabajo`
--
ALTER TABLE `ordentrabajo`
  ADD CONSTRAINT `fk_ordentrabajo_asignacionactivo` FOREIGN KEY (`CODASIGACTIVO`) REFERENCES `asignacionactivo` (`CODASIGACTIVO`);

--
-- Constraints for table `persona`
--
ALTER TABLE `persona`
  ADD CONSTRAINT `fk_persona_profesor` FOREIGN KEY (`CODPROFESION`) REFERENCES `profesion` (`CODPROFESION`);

--
-- Constraints for table `personal`
--
ALTER TABLE `personal`
  ADD CONSTRAINT `fk_personal_item` FOREIGN KEY (`CODITEM`) REFERENCES `item` (`CODITEM`),
  ADD CONSTRAINT `fk_personal_persona` FOREIGN KEY (`CI`) REFERENCES `persona` (`CI`);

--
-- Constraints for table `repuestos`
--
ALTER TABLE `repuestos`
  ADD CONSTRAINT `fk_codtiporepuesto` FOREIGN KEY (`CODTIPOREPUESTO`) REFERENCES `tiporepuesto` (`CODTIPOREPUESTO`);

--
-- Constraints for table `subtareas`
--
ALTER TABLE `subtareas`
  ADD CONSTRAINT `fk_subtareas_tareas` FOREIGN KEY (`CODTAREA`) REFERENCES `tareas` (`CODTAREA`);

--
-- Constraints for table `tareas`
--
ALTER TABLE `tareas`
  ADD CONSTRAINT `k_tarea_subtarea` FOREIGN KEY (`CODCATALOGO`) REFERENCES `catalogo` (`CODCATALOGO`);

--
-- Constraints for table `tecnicos`
--
ALTER TABLE `tecnicos`
  ADD CONSTRAINT `fk_centrotecnico` FOREIGN KEY (`CODCENTRO`) REFERENCES `centromantenimiento` (`CODCENTRO`),
  ADD CONSTRAINT `fk_tecnicos_asigcargoper` FOREIGN KEY (`CODASIGCARGOPER`) REFERENCES `asigcargopersonal` (`CODASIGCARGOPER`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
